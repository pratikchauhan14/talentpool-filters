(()=>{var ct=Object.defineProperty,dt=Object.defineProperties;var ut=Object.getOwnPropertyDescriptors;var at=Object.getOwnPropertySymbols;var pt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var it=(S,t,e)=>t in S?ct(S,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):S[t]=e,z=(S,t)=>{for(var e in t||(t={}))pt.call(t,e)&&it(S,e,t[e]);if(at)for(var e of at(t))ht.call(t,e)&&it(S,e,t[e]);return S},tt=(S,t)=>dt(S,ut(t));var X=class{constructor(t,{sidebar:e,container:o}){this.normalize=t.normalize,this.sidebar=t.sidebar,this.filter=t.Filter,this.getSplitPattern=t.getSplitPattern,this.talentPool=t.talentPool||[],this.filteredData=this.filter.filteredData,this.container=o,this.totalCountElement=null,this.groupCountsContainer=null,this.initUI(),setTimeout(()=>this.appendCounterToSidebar(),0),this.sidebar.on("onChange",n=>{this.storedValue=n,this.applyFilters()}),this.labels=t.labels||{},this.reset()}applyFilters(){this.updateCounter()}updateCounter(){var u,c;let t=this.normalize.bind(this),e=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1","t_desired_region_2","t_desired_region_3","t_desired_salary"],o=this.storedValue||{},n=this.filter.prepareFilterValues(o),a=this.filter.filteredData,r=this.computeCounts(this.talentPool,e,t),d=this.computeCounts(a,e,t,n),i=z(z({},r),d),l=a.length||this.talentPool.length;(c=(u=this.sidebar)==null?void 0:u.parent)!=null&&c.counter&&this.sidebar.parent.counter.update({total:l,groupCounts:i});let h={};for(let p in i)Object.assign(h,i[p]);this.updateGroupCategoryCounts(h),this.updateNestedGroupCounts(h)}computeCounts(t,e,o,n={}){var r,d,i,l;let a={};for(let h of e){if(h==="t_desired_region_2"||h==="t_desired_region_3")continue;let u=(n[h]||[]).map(o),c={};for(let p of t){let s=p.properties[h];if(h==="t_desired_region_1"){let x=new Set;for(let _=1;_<=3;_++){let y=`t_desired_region_${_}`,$=p.properties[y];$&&$.split(/[,\s]+/).filter(Boolean).forEach(M=>x.add(M.trim()))}s=Array.from(x).join(",")}if(!s)continue;let m=this.getSplitPattern(s),f=[...new Set(s.split(m).map(x=>o(x)).filter(Boolean))],b=o(s);for(let x of f){let _=!1;if(h==="custom_talent_category"&&((d=(r=this.sidebar)==null?void 0:r.parent)!=null&&d.custom_talent_category)){let $=this.sidebar.parent.custom_talent_category.group;for(let q in $){let M=$[q];if(M.type==="group"&&M.group){for(let G in M.group){let U=M.group[G];if(U.type==="simple"&&U.values&&U.values.some(ot=>o(ot)===x)){_=!0;break}}if(_)break}}}let y=this.normalize(x);_?!y.includes("_")&&this.shouldCount(y,u,b)&&(c[y]=(c[y]||0)+1):this.shouldCount(y,u,b)&&(c[y]=(c[y]||0)+1)}if(!f.includes(b)){let x=!1;if(h==="custom_talent_category"&&((l=(i=this.sidebar)==null?void 0:i.parent)!=null&&l.custom_talent_category)){let _=this.sidebar.parent.custom_talent_category.group;for(let y in _){let $=_[y];if($.type==="group"&&$.group){for(let q in $.group){let M=$.group[q];if(M.type==="simple"&&M.values&&M.values.some(G=>o(G)===b)){x=!0;break}}if(x)break}}}x?!b.includes("_")&&this.shouldCount(b,u,b)&&(c[b]=(c[b]||0)+1):this.shouldCount(b,u,b)&&(c[b]=(c[b]||0)+1)}}if(u.length>0&&(this.sidebar.sidebar.querySelectorAll(`[data-key="${h}"] input[type="checkbox"]`).forEach(s=>{let m=o(s.value);m in c||(c[m]=0)}),u.forEach(s=>{s in c||(c[s]=0)})),h==="custom_talent_category"&&this.sidebar.parent&&this.sidebar.parent.custom_talent_category){let p=this.sidebar.parent.custom_talent_category.group;for(let s in p){let m=p[s];if(m.type==="group"&&m.group)for(let f in m.group){let b=m.group[f];if(b.values)b.values.forEach(x=>{let _=o(x);if(!(_ in c)){let y=0;for(let $ of t){let q=$.properties[h];if(!q)continue;let M=this.getSplitPattern(q),G=q.split(M).map(o).filter(Boolean),U=o(q);(G.includes(_)||U===_)&&this.shouldCount(_,u,U)&&y++}c[_]=y}});else if(b.type==="simple"){let x=o(f);if(!(x in c)){let _=0;for(let y of t){let $=y.properties[h];if(!$)continue;let q=this.getSplitPattern($),M=$.split(q).map(o).filter(Boolean),G=o($);(M.includes(x)||G===x)&&this.shouldCount(x,u,G)&&_++}c[x]=_}}}}}a[h]=c}return a}shouldCount(t,e,o){var a,r;let n=!1;if((r=(a=this.sidebar)==null?void 0:a.parent)!=null&&r.custom_talent_category){let d=this.sidebar.parent.custom_talent_category.group;for(let i in d){let l=d[i];if(l.type==="group"&&l.group){for(let h in l.group){let u=l.group[h];if(u.type==="simple"&&u.values&&u.values.some(c=>this.normalize(c)===t)){n=!0;break}}if(n)break}}}return n?e.length===0||e.includes(t):e.length===0||e.includes(t)||o===t}initUI(){this.totalCountElement=this.sidebar.sidebar.querySelector(".total-count"),this.totalCountElement}update({total:t=0,groupCounts:e={}}){this.totalCountElement.textContent=`${t} ${this.labels.counterLabel}`,this.sidebar.sidebar.querySelectorAll("[data-counter-label]").forEach(n=>{var d;let a=n.getAttribute("data-counter-label"),r=0;for(let i in e)if(((d=e[i])==null?void 0:d[a])!=null){r=e[i][a];break}n.textContent=` (${r})`})}hideZeroLabelsOnLoad(){this.sidebar.sidebar.querySelectorAll(".talent-pool-checkboxes").forEach(e=>{let o=e.querySelectorAll("[data-counter-label]"),n=!1;o.forEach(a=>{let r=a.textContent.match(/\((\d+)\)/),d=r?parseInt(r[1]):0,i=a.closest(".talent-pool-checkbox");i&&(i.style.display=d===0?"none":"",d>0&&(n=!0))}),e.style.display=n?"":"none"})}appendCounterToSidebar(){var i;if(!((i=this.sidebar)!=null&&i.sidebar))return;this.sidebar.sidebar.querySelectorAll('input[type="checkbox"]').forEach(l=>{let h=l.value,u=l.nextElementSibling;if(!u||u.querySelector(".talent-pool-counter-label"))return;let c=document.createElement("span");c.setAttribute("data-counter-label",this.normalize(h)),c.classList.add("talent-pool-counter-label"),u.appendChild(c)}),this.updateCounter(),this.hideZeroLabelsOnLoad();let e=this.normalize.bind(this),o=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1","t_desired_salary"],n=this.computeCounts(this.talentPool,o,e),a={};for(let l in n)Object.assign(a,n[l]);this.updateGroupCategoryCounts(a),this.updateNestedGroupCounts(a);let r=this.sidebar.sidebar.querySelectorAll(".talent-pool-checkboxes"),d=Object.values(this.storedValue||{}).some(l=>Array.isArray(l)?l.length>0:typeof l=="object"?Object.values(l).some(h=>Array.isArray(h)&&h.length>0):!1);r.forEach(l=>{let h=l.querySelectorAll(".talent-pool-checkbox"),u=!1;h.forEach(c=>{let p=c.querySelector("[data-counter-label]"),s=p==null?void 0:p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;d?(c.style.display="",u=!0):(c.style.display=m>0?"":"none",m>0&&(u=!0))}),l.style.display=u?"":"none"})}updateGroupCategoryCounts(t={}){document.querySelectorAll(".talent-pool-checkbox-input").forEach(o=>{let n=o.nextElementSibling,a=o.closest(".talent-pool-checkboxes"),r=a==null?void 0:a.querySelector(".dropdown-container");if(!r)return;let d=0;r.querySelectorAll('input[type="checkbox"]').forEach(h=>{let u=this.normalize(h.value);d+=t[u]||0});let l=n.querySelector(".talent-pool-counter-label");l&&(l.textContent=` (${d})`)})}updateNestedGroupCounts(t={}){if(this.sidebar.parent&&this.sidebar.parent.custom_talent_category){let e=this.sidebar.parent.custom_talent_category.group;for(let o in e){let n=e[o];if(n.type==="group"&&n.group){let a=document.getElementById(`talent-pool-custom_talent_category-${o}`);if(a){let r=a.nextElementSibling,d=0;for(let i in n.group){let l=n.group[i],h=0;if(l.values)l.values.forEach(c=>{let p=this.normalize(c);h+=t[p]||0});else if(l.type==="simple"){let c=this.normalize(i);h+=t[c]||0}d+=h;let u=document.getElementById(`talent-pool-custom_talent_category-${o}-${i}`);if(u){let p=u.nextElementSibling.querySelector(".talent-pool-counter-label");p&&(p.textContent=` (${h})`)}l.values&&l.type!=="simple"&&l.values.forEach(c=>{let p=this.normalize(c),s=document.querySelector(`input[value="${c}"]`);if(s){let m=s.nextElementSibling,f=m==null?void 0:m.querySelector(".talent-pool-counter-label");f&&(f.textContent=` (${t[p]||0})`)}})}this.sidebar.updateParentGroupCounter&&this.sidebar.updateParentGroupCounter("custom_talent_category",o)}}}}this.sidebar.updateAllParentGroupCounters&&setTimeout(()=>{this.sidebar.updateAllParentGroupCounters()},10)}setFilteredData(t){this.filteredData=t,this.filter.filteredData=t,this.updateCounter()}reset(){this.appendCounterToSidebar()}};var Z=class{constructor(t,{sidebar:e,container:o}){if(this.normalize=t.normalize,this.sidebar=t.sidebar,this.filter=t.Filter,this.counter=t.Counter,this.getSplitPattern=t.getSplitPattern,this.talentPool=t.talentPool||[],this.filteredData=this.filter.filteredData,this.container=o,this.searchData=t.searchData,this.currentSortValue="default",this.originalOrder=[...this.filter.filteredData],this.SortingUI(),this.attachSortHandler(),this.reset(),this.sidebar.on("onChange",()=>{this.originalOrder=[...this.filter.filteredData],this.applySorting()}),this.filter&&typeof this.filter.applySearch=="function"){let n=this.filter.applySearch.bind(this.filter);this.filter.applySearch=(a,r)=>{n(a,d=>{this.originalOrder=[...this.filter.filteredData],this.applySorting(),typeof r=="function"&&r(d)})}}}attachSortHandler(){let t=document.getElementById("talent-pool-sort-select");if(!t){setTimeout(()=>{this.attachSortHandler()},150);return}t.addEventListener("change",()=>{this.currentSortValue=t.value,this.applySorting()})}applySorting(){let t=[];switch(this.currentSortValue){case"asc":t=[...this.filter.filteredData].sort((e,o)=>{let n=parseFloat(e.properties.t_desired_salary)||0,a=parseFloat(o.properties.t_desired_salary)||0;return n-a});break;case"desc":t=[...this.filter.filteredData].sort((e,o)=>{let n=parseFloat(e.properties.t_desired_salary)||0;return(parseFloat(o.properties.t_desired_salary)||0)-n});break;default:t=[...this.originalOrder]}this.filter.filteredData=t,this.filter.currentPage=1,this.filter.currentChunk=0,this.filter.render()}SortingUI(){let t=document.querySelector(".talent-pool-filter-right-content");if(!t){setTimeout(()=>{this.SortingUI()},100);return}let e=document.createElement("div");e.classList.add("talent-pool-sorting-container");let o=document.createElement("select");o.classList.add("talent-pool-sort-select"),o.id="talent-pool-sort-select",[{value:"default",label:"Standard"},{value:"asc",label:"Salary Ascending"},{value:"desc",label:"Salary Descending"}].forEach(a=>{let r=document.createElement("option");r.value=a.value,r.textContent=a.label,o.appendChild(r)}),e.appendChild(o),t.insertBefore(e,t.children[1])}reset(){let t=document.querySelector("#talent-pool-sort-select");t&&(t.value="default",this.currentSortValue="default",this.applySorting())}};var Q=class{constructor(t={}){this.container=t.container,this.sidebar=t.sidebar,this.talentPool=t.talentPool||[],this.storedValue=t.storedValue||{},this.normalize=t.normalize,this.getSplitPattern=t.getSplitPattern,this.Counter=t.Counter,this.dataSort=t.dataSort,this.filteredData=[],this.labels=t.labels||{},this.formateCurrency=t.formateCurrency,this.InnerPageLink=t.InnerPageLink,this.itemsPerPageShow=t.itemsPerPageShow,Object.assign(this,{itemsPerPageShow:this.itemsPerPageShow,currentPage:1}),this.paginationUI(),this.sidebar.on("onChange",e=>{this.storedValue=e,this.applyFilters()}),setTimeout(()=>{this.setupSearchInput()},2),this.reset()}paginationUI(){this.rightContent=this.createElement("div","talent-pool-filter-right-content",this.container),this.loadingTextElement=this.createElement("div","talent-pool-loading-text",this.rightContent),this.boxContainer=this.createElement("div","talent-pool-filter-box",this.rightContent);let t=this.createElement("div","pagination_contain",this.rightContent);this.paginationControls=this.createElement("div","pagination-controls",t)}createElement(t,e,o){let n=document.createElement(t);return e&&n.classList.add(e),o&&o.appendChild(n),n}updateData(t){this.talentPool=t,this.filteredData=t,this.applyFilters(),this.boxContainer.innerHTML="",setTimeout(()=>{document.getElementById("search")||this.setupSearchInput()},1)}prepareFilterValues(t){let e={},o=["t_desired_region_1","t_desired_region_2","t_desired_region_3"],n="t_desired_region_1,t_desired_region_2,t_desired_region_3";t[n]&&Array.isArray(t[n])&&(e[n]=[...t[n]]);for(let a in t){if(a==="t_desired_salary"||a===n)continue;let r=t[a];if(Array.isArray(r))e[a]=[...r];else if(typeof r=="object"&&r!==null){let d=[],i=l=>{Array.isArray(l)?d.push(...l):l&&typeof l=="object"&&Object.values(l).forEach(i)};i(r),e[a]=d}else e[a]=Array.isArray(r)?[...r]:r?[r]:[]}return e}applySalaryFilter(t,e){return!e||e.minValue===void 0||e.maxValue===void 0?t:t.filter(o=>{var a;let n=Number((a=o.properties)==null?void 0:a.t_desired_salary);return isNaN(n)||n>=e.minValue&&n<=e.maxValue})}applyFilters(){let t=this.storedValue;if(!t||typeof t!="object"){this.filteredData=this.talentPool;return}let e=[...this.talentPool];this.storedValue.t_desired_salary&&(e=this.applySalaryFilter(e,this.storedValue.t_desired_salary));let o=this.prepareFilterValues(t),n=new Set,a=[];if(!Object.values(o).some(d=>Array.isArray(d)&&d.length>0))this.filteredData=e;else{for(let d in o)o[d].map(this.normalize).forEach(l=>{e.forEach(h=>{var x,_;let u="";if(d==="t_desired_region_1,t_desired_region_2,t_desired_region_3"){let y=new Set;["t_desired_region_1","t_desired_region_2","t_desired_region_3"].forEach($=>{let q=h.properties[$];q&&q.split(/[,\s]+/).map(M=>M.trim()).filter(Boolean).forEach(M=>y.add(this.normalize(M)))}),u=Array.from(y).join(",")}else u=h.properties[d]||"";if(!u)return;let c=this.getSplitPattern(u),p=[...new Set(u.split(c).map(y=>this.normalize(y)).filter(Boolean))],s=this.normalize(u),m=!1,f=!1;if(d==="custom_talent_category"&&((_=(x=this.sidebar)==null?void 0:x.parent)!=null&&_.custom_talent_category)){let y=this.sidebar.parent.custom_talent_category.group;for(let $ in y){let q=y[$];if(q.type==="group"&&q.group){for(let M in q.group){let G=q.group[M];if(G.type==="simple"&&G.values&&G.values.some(U=>this.normalize(U)===l)){f=!0;break}}if(f)break}}}f?s===l?m=!0:m=p.some(y=>y.replace(/_[a-z]+$/i,"")===l&&!y.includes("_")):m=s===l||p.includes(l);let b=h.id||JSON.stringify(h.properties);m&&!n.has(b)&&(a.push(h),n.add(b))})});this.filteredData=a.length>0?a:[]}this.currentPage=1,this.render()}renderCard(t){let e=document.createElement("div");e.classList.add("talent-pool-card-box");let{t_current_position:o,t_maincategory:n,t_experience_level:a,t_city:r,t_desired_salary:d,t_candidate_id:i}=t.properties,l=`${this.InnerPageLink}/${i}`;e.innerHTML=`
            <div class="talent-pool-card-inner">
                <div class="talent_box_content">
                    <h5><a target="_blank" href="${l}" class="position">${o}</a></h5>
                    <span class="maincategory"><div>${n}</div></span>
                </div>
                <div class="talent_box_inner_content">
                    <div class="talent_box_inner_left">
                        <span><b>Experience Level:</b> ${a}</span>
                        <span><b>City:</b> ${r}</span>
                        <span><b>Salary:</b> ${this.formateCurrency(d,"\u20B9 Per Month")}</span>
                    </div>
                    <div class="talent_box_btn">
                       <a target="_blank" class="btn btn:secondary" href="${l}">Learn More</a>
                    </div>
                </div>
            </div>
        `,this.boxContainer.appendChild(e)}render(){this.renderPage(),this.renderPaginationControls()}renderPage(){if(this.boxContainer.innerHTML="",this.filteredData.length===0){let o=document.createElement("h5");o.classList.add("no-results-message"),o.textContent=`${this.labels.NoDataContent}`,this.boxContainer.innerHTML="",this.boxContainer.appendChild(o)}let t=(this.currentPage-1)*this.itemsPerPageShow,e=t+this.itemsPerPageShow;this.filteredData.slice(t,e).forEach(o=>this.renderCard(o))}getTotalPages(){return Math.ceil(this.filteredData.length/this.itemsPerPageShow)}renderPaginationControls(){let t=this.getTotalPages(),e=this.currentPage,o=this.paginationControls;if(o.innerHTML="",this.filteredData.length===0){o.style.display="none";return}o.style.display="block";let n=(l,h,u,c="")=>{let p=this.createElement("button",c,o);p.textContent=l,p.disabled=h,p.onclick=u};e>1&&n(`\u2039 ${this.labels.prevLabel}`,!1,()=>{this.currentPage--,this.render()});let a=5,r=Math.floor(a/2),d=Math.max(1,e-r),i=Math.min(t,e+r);e<=r&&(i=Math.min(t,a)),e+r>t&&(d=Math.max(1,t-a+1),i=t),d>1&&(this.createElement("span","ellipsis",o).textContent="\u2026");for(let l=d;l<=i;l++){let h=this.createElement("button","pagination-btn",o);h.textContent=l,l===e&&h.classList.add("active"),h.onclick=()=>{this.currentPage=l,this.render()}}i<t&&(this.createElement("span","ellipsis",o).textContent="\u2026"),e<t&&n(`${this.labels.nextLabel} \u203A`,!1,()=>{this.currentPage++,this.render()})}createPaginationButton(t,e,o){let n=this.createElement("button","",this.paginationControls);n.textContent=t,n.disabled=e,n.onclick=o}nextPageGroup(){let t=this.getTotalPages();if(this.currentPage<t){this.currentPage++;let e=(this.currentChunk+1)*this.pageChunkSize;this.currentPage>e&&this.currentChunk++,this.render()}}prevPageGroup(){if(this.currentPage>1){this.currentPage--;let t=this.currentChunk*this.pageChunkSize+1;this.currentPage<t&&this.currentChunk--,this.render()}}applySearch(t,e){let o=this.normalize(t),n=["t_procedure_txt","custom_talent_category","t_experience_level","t_desired_region_1","t_desired_region_2","t_desired_region_3"];o?this.filteredData=this.talentPool.filter(a=>n.some(r=>{let d=a.properties[r];if(r.startsWith("t_desired_region_")){let h=[];for(let u=1;u<=3;u++){let c=`t_desired_region_${u}`;a.properties[c]&&h.push(a.properties[c])}d=h.join(",")}if(!d)return!1;let i=this.getSplitPattern(d);return d.split(i).map(h=>this.normalize(h)).some(h=>h.includes(o))})):this.filteredData=this.talentPool,this.currentPage=1,this.currentChunk=0,this.render(),this.Counter&&this.Counter.updateCounter(),typeof e=="function"&&e(this.filteredData)}setupSearchInput(){function t(r,d){let i;return function(...l){clearTimeout(i),i=setTimeout(()=>r.apply(this,l),d)}}let e=document.getElementById("search");if(!e)return;let o=t(r=>{let d=r.target.value.trim();document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"]').forEach(h=>{h.checked=!1}),document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"].indeterminate').forEach(h=>{h.classList.remove("indeterminate"),h.indeterminate=!1}),this.applySearch(d)},3);e.addEventListener("input",o),document.querySelector(".talent-pool-filter-sidebar").addEventListener("change",r=>{r.target.type==="checkbox"&&(e.value="")});let a=document.getElementById("add-data")}reset(){this.updateData(this.talentPool),this.render();let t=document.getElementById("search");t.value=""}};var J=class{constructor(t){this.options=t,this.reset()}on(t,e){t==="change"&&(this.changeCallback=e)}emit(t,e){t==="change"&&this.changeCallback&&this.changeCallback(e)}getValue(){return{minValue:this.minValue,maxValue:this.maxValue}}progressUpdate(){let t=this.options.max-this.options.min,e=(this.minValue-this.options.min)/t*100,o=(this.maxValue-this.options.min)/t*100;this.progress.style.left=`${e}%`,this.progress.style.right=`${100-o}%`,this.tooltipMin.style.left=`${e}%`,this.tooltipMax.style.left=`${o}%`;let n=this.options.formateCurrency?this.options.formateCurrency(this.minValue):`${this.minValue}\u20B9`,a=this.options.formateCurrency?this.options.formateCurrency(this.maxValue):`${this.maxValue}\u20B9`;this.tooltipMin.innerText=n,this.tooltipMax.innerText=a,this.tooltipMin.style.transform="translateX(-50%)",this.tooltipMax.style.transform="translateX(-50%)",Math.abs(e-o)<=5?(this.tooltipMin.style.top="-60px",this.tooltipMax.style.top="-35px"):(this.tooltipMin.style.top="-35px",this.tooltipMax.style.top="-35px"),this.minValue>this.maxValue?(this.tooltipMin.style.zIndex=2,this.tooltipMax.style.zIndex=1):(this.tooltipMin.style.zIndex=1,this.tooltipMax.style.zIndex=2)}initialize(){let t=document.createElement("h3");t.classList.add("range-title"),t.innerHTML="Salary Expectations / Fee";let e=document.createElement("div");e.classList.add("range-input");let o=document.createElement("div");o.classList.add("slider");let n=document.createElement("div");n.classList.add("progress"),this.minValue=this.options.defaultMin,this.maxValue=this.options.defaultMax,o.appendChild(n),e.appendChild(o),this.progress=n;let a=document.createElement("div");a.classList.add("range-label");let r=this.options.formateCurrency?this.options.formateCurrency(this.options.min):`${this.options.min}\u20B9`,d=this.options.formateCurrency?this.options.formateCurrency(this.options.max):`${this.options.max}\u20B9`;a.innerHTML=`<span class="min">${r}</span> - <span class="max">${d}</span>`,e.appendChild(a);let i=document.createElement("div");i.classList.add("tooltip-wrapper");let l=document.createElement("span");l.classList.add("tooltip-min");let h=this.options.formateCurrency?this.options.formateCurrency(this.options.defaultMin):`${this.options.defaultMin}\u20B9`;l.innerText=h,i.appendChild(l),this.tooltipMin=l;let u=document.createElement("span");u.classList.add("tooltip-max");let c=this.options.formateCurrency?this.options.formateCurrency(this.options.defaultMax):`${this.options.defaultMax}\u20B9`;u.innerText=c,i.appendChild(u),this.tooltipMax=u,e.appendChild(i);let p=document.createElement("input");p.type="range",p.classList.add("range-min"),p.min=this.options.min,p.max=this.options.max,p.value=this.options.defaultMin,e.appendChild(p),this.minInput=p,p.addEventListener("input",f=>{this.onChange("min",f)}),p.addEventListener("change",f=>{this.emit("change",this.getValue())});let s=document.createElement("input");s.type="range",s.classList.add("range-max"),s.min=this.options.min,s.max=this.options.max,s.value=this.options.defaultMax,e.appendChild(s),this.maxInput=s,s.addEventListener("input",f=>{this.onChange("max",f)}),s.addEventListener("change",f=>{this.emit("change",this.getValue())});let m=document.createElement("div");return m.classList.add("range-slider-wrapper"),m.appendChild(t),m.appendChild(e),this.container=e,this.progressUpdate(),this.emit("change",this.getValue()),m}onChange(t,e){let o=this.options.step||1;if(e.target.value%o!==0&&(e.target.value=Math.round(e.target.value/o)*o),t==="min"){let n=parseInt(e.target.value,10);n+this.options.gap<=this.maxValue?(this.minValue=n,this.progressUpdate()):e.target.value=this.minValue}else if(t==="max"){let n=parseInt(e.target.value,10);n-this.options.gap>=this.minValue?(this.maxValue=n,this.progressUpdate()):e.target.value=this.maxValue}}reset(){var e,o;this.minValue=(e=this.options.defaultMin)!=null?e:this.options.min,this.maxValue=(o=this.options.defaultMax)!=null?o:this.options.max,this.minInput&&(this.minInput.value=this.minValue),this.maxInput&&(this.maxInput.value=this.maxValue);let t=this.options.formateCurrency||(n=>`${n}\u20B9`);this.tooltipMin&&(this.tooltipMin.innerText=t(this.minValue)),this.tooltipMax&&(this.tooltipMax.innerText=t(this.maxValue)),this.progress&&this.tooltipMin&&this.tooltipMax&&this.progressUpdate(),this.emit("change",this.getValue())}};var Y=!1;function lt(S){let t=document.createElement("button");t.classList.add("talent-pool-popup-button"),t.textContent=S.popupTitle||"Subscribe our TalentPool";let e=document.body;function o(a,r){var i,l;let d=((l=(i=r.parent)==null?void 0:i.custom_talent_category)==null?void 0:l.group)||{};return Object.values(d).some(h=>h.group?Object.values(h.group).some(u=>{var c;return(c=u.values)==null?void 0:c.includes(a)}):!1)}function n(a,r){Y=!0;let d=a.closest(".talent-pool-popup-inner-wrapper")||a.closest(".talent-pool-sidebar"),i=(d==null?void 0:d.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]'))||[],l=a.getAttribute("data-group-key"),h="custom_talent_category";i.forEach(c=>{let p=c.getAttribute("data-group-key");if(p!==l){if(c.classList.contains("popup-transformed")){let s=c.querySelector(".talent-pool-checkbox-input");s&&(s.checked=!1,s.indeterminate=!1,s.classList.remove("indeterminate")),c.querySelectorAll('.popup-subgroups input[type="checkbox"]').forEach(f=>f.checked=!1)}else{let s=c.querySelector(".talent-pool-checkbox-input");s&&(s.checked=!1,s.indeterminate=!1,s.classList.remove("indeterminate")),c.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]').forEach(f=>f.checked=!1)}r[h]&&(r[h][p]=[])}});let u=new CustomEvent("PopupValueStored",{detail:r});document.dispatchEvent(u),setTimeout(()=>{Y=!1},0)}t.addEventListener("click",()=>{e.classList.add("open-popup");let a=document.createElement("div");a.classList.add("talent-pool-popup-container"),a.classList.add("popup");let r=document.createElement("div");r.classList.add("talent-pool-popup-inner-wrapper"),a.appendChild(r);let d=S.sidebar.cloneNode(!0),i=S.parent.createCloseButton();r.appendChild(i);let l=d.querySelector(".talent-pool-contain");l&&l.remove(),d.querySelectorAll(".talent-pool-counter-label").forEach(g=>{g.remove()});let u=d.querySelector(".range-title");u&&u.remove(),d.querySelectorAll(".range-input , .talent-pool-popup-button").forEach(g=>{g.remove()});let p=d.querySelector(".cobalt_search");p&&p.remove();let s={};function m(g,C){s[g]=s[g]||{},s[g][C]=s[g][C]||[]}let f=d.querySelectorAll(".talent-pool-checkboxes"),b=d.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]');d.querySelectorAll(".talent-pool-nested-group").forEach(g=>{let C=g.getAttribute("data-key"),v=g.getAttribute("data-group-key"),P=g.querySelector(".talent-pool-checkbox-input"),F=g.querySelector("label");P&&P.id&&(P.id=`popup-${P.id}`),F&&F.htmlFor&&(F.htmlFor=`popup-${F.htmlFor}`),g.querySelectorAll(".talent-pool-nested-subgroup .talent-pool-dropdown-button").forEach(A=>{A.remove()}),g.querySelectorAll(".talent-pool-nested-subgroup .dropdown-container").forEach(A=>{A.remove()}),g.querySelectorAll(".talent-pool-nested-subgroup").forEach(A=>{A.remove()});let I=document.createElement("div");if(I.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested","popup-subgroups"),S.parent&&S.parent.custom_talent_category&&S.parent.custom_talent_category.group[v]){let A=S.parent.custom_talent_category.group[v];A.type==="group"&&A.group&&Object.keys(A.group).forEach(w=>{let D=A.group[w],V=document.createElement("div");V.classList.add("talent-pool-checkbox"),V.setAttribute("data-subgroup-key",w);let L=document.createElement("input");L.type="checkbox",L.value=D.name||w,L.id=`popup-talent-pool-${C}-${v}-${w}`;let B=document.createElement("label");B.htmlFor=L.id,B.textContent=D.name||w,V.appendChild(L),V.appendChild(B),I.appendChild(V)})}P&&(P.style.display="block"),F&&(F.style.display="block"),g.appendChild(I),P&&P.addEventListener("change",()=>{if(Y)return;let A=P.checked;n(g,s);let w=I.querySelectorAll('input[type="checkbox"]');P.classList.remove("indeterminate"),P.indeterminate=!1,s[C]=s[C]||{},s[C][v]=s[C][v]||[],s[C][v]=[],w.forEach(D=>{var L;D.checked=A;let V=(L=D.closest(".talent-pool-checkbox"))==null?void 0:L.getAttribute("data-subgroup-key");if(A){let B=V;if(S.parent&&S.parent.custom_talent_category&&S.parent.custom_talent_category.group[v]){let N=S.parent.custom_talent_category.group[v].group[V];N&&N.name&&(B=N.name)}s[C][v].push(B)}})}),g.classList.add("popup-transformed")});let _=new J(tt(z({},S.rangeSliderOption),{formateCurrency:S.parent.formateCurrency.bind(S.parent)})),y=_.initialize();d.appendChild(y);let $=_.getValue();s.t_desired_salary={minValue:$.minValue,maxValue:$.maxValue},_.on("change",g=>{s.t_desired_salary={minValue:g.minValue,maxValue:g.maxValue};let C=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(C)});let q=d.querySelectorAll(".talent-pool-nested-group.popup-transformed");q.forEach(g=>{var E,T,R;let C=g.getAttribute("data-key"),v=g.getAttribute("data-group-key"),P=g.querySelectorAll('.popup-subgroups input[type="checkbox"]');m(C,v);let F=S.sidebar.querySelector(`.talent-pool-nested-group[data-key="${C}"][data-group-key="${v}"]`);if(F){let I=F.querySelector(".dropdown-container"),A=new Set,w=(R=(T=(E=S.parent)==null?void 0:E.custom_talent_category)==null?void 0:T.group)==null?void 0:R[v];(w==null?void 0:w.type)==="group"&&w.group&&Object.keys(w.group).forEach(V=>{var k;let L=w.group[V],B=!1;if(L.type==="simple"){let O=`input[type="checkbox"][value="${(k=L.values)==null?void 0:k[0]}"]`,j=F.querySelector(O);j!=null&&j.checked&&(B=!0)}else((I==null?void 0:I.querySelectorAll(`[data-subgroup-key="${V}"]`))||[]).forEach(O=>{let j=L.values||[];Array.from(O.querySelectorAll('input[type="checkbox"]:checked')).map(H=>H.value).some(H=>j.includes(H))&&(B=!0)});B&&A.add(V)}),A.forEach(V=>{var N,O,j,W,H;let L=(H=(W=(j=(O=(N=S.parent)==null?void 0:N.custom_talent_category)==null?void 0:O.group)==null?void 0:j[v])==null?void 0:W.group)==null?void 0:H[V],B=(L==null?void 0:L.name)||V;s[C][v].includes(B)||s[C][v].push(B);let k=g.querySelector(`[data-subgroup-key="${V}"] input[type="checkbox"]`);k&&(k.checked=!0)});let D=g.querySelector(".talent-pool-checkbox-input");if(D){let V=g.querySelectorAll('.popup-subgroups input[type="checkbox"]'),L=g.querySelectorAll('.popup-subgroups input[type="checkbox"]:checked');D.checked=L.length===V.length&&L.length>0,D.indeterminate=L.length>0&&L.length<V.length}}P.forEach(I=>{I.addEventListener("change",()=>{var N,O,j,W,H,st;let A=(N=I.closest(".talent-pool-checkbox"))==null?void 0:N.getAttribute("data-subgroup-key"),w=(st=(H=(W=(j=(O=S.parent)==null?void 0:O.custom_talent_category)==null?void 0:j.group)==null?void 0:W[v])==null?void 0:H.group)==null?void 0:st[A],D=(w==null?void 0:w.name)||A;m(C,v),I.checked&&n(g,s);let V=s[C][v].indexOf(D);I.checked?V===-1&&s[C][v].push(D):V>-1&&s[C][v].splice(V,1);let L=g.querySelectorAll('.popup-subgroups input[type="checkbox"]'),B=g.querySelectorAll('.popup-subgroups input[type="checkbox"]:checked'),k=g.querySelector(".talent-pool-checkbox-input");k&&(k.classList.remove("indeterminate"),B.length===0?(k.checked=!1,k.indeterminate=!1):B.length===L.length?(k.checked=!0,k.indeterminate=!1):(k.checked=!1,k.indeterminate=!0,k.classList.add("indeterminate")))})})}),Array.from(b).filter(g=>!g.classList.contains("popup-transformed")).forEach(g=>{let C=g.querySelector(".talent-pool-checkbox-input"),v=g.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]'),P=g.getAttribute("data-key"),F=g.getAttribute("data-group-key");q.forEach(E=>{let T=E.getAttribute("data-key"),R=E.getAttribute("data-group-key");E.querySelectorAll('.popup-subgroups input[type="checkbox"]').forEach(A=>A.checked=!1),s[T]&&s[T][R]&&Object.keys(s[T][R]).forEach(A=>{s[T][R][A]=[]})}),C.addEventListener("change",()=>{if(Y)return;let E=C.checked;n(g,s),s[P]=s[P]||{},s[P][F]=[],v.forEach(T=>{T.checked=E,E&&T.value!=="on"&&s[P][F].push(T.value)})}),v.forEach(E=>{E.addEventListener("change",()=>{if(Y)return;let T=Array.from(v).some(I=>I.checked),R=Array.from(v).filter(I=>I.checked&&I.value!=="on").map(I=>I.value);T&&n(g,s),s[P]=s[P]||{},s[P][F]=R,T?C.checked=!0:C.checked=!1})})}),Array.from(f).filter(g=>!(g.classList.contains("popup-transformed")||g.classList.contains("talent-pool-nested-group")||g.getAttribute("data-key")==="custom_talent_category"&&g.closest(".talent-pool-nested-group"))).forEach(g=>{let C=g.getAttribute("data-key"),v=g.getAttribute("data-group-key"),P=g.querySelector(".indeterminate");P&&(P.classList.remove("indeterminate"),P.indeterminate=!1),C==="custom_talent_category"?(s[C]=s[C]||{},s[C][v]=s[C][v]||[]):s[C]=[],g.querySelectorAll("input[type='checkbox']").forEach(E=>{if(E.id){E.id=`popup-${E.id}`;let T=E.closest(".talent-pool-nested-group"),R=E.closest(".popup-subgroups"),I=E.classList.contains("talent-pool-checkbox-input")&&E.closest(".talent-pool-nested-group"),A=E.classList.contains("talent-pool-checkbox-input");if(E.checked&&!T&&!I&&!A)if(C==="custom_talent_category"){let D=E.closest(".talent-pool-checkboxes");if(D&&!D.classList.contains("popup-transformed")){let V=Array.from(g.parentNode.querySelectorAll('.talent-pool-checkboxes[data-key="custom_talent_category"]')),L=V.indexOf(g);V.forEach((k,N)=>{if(N<L){let O=k.querySelector(".talent-pool-checkbox-input"),j=k.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type="checkbox"]');O&&(O.checked=!1),j.forEach(H=>H.checked=!1);let W=k.getAttribute("data-group-key");s[C]&&s[C][W]&&(s[C][W]=[])}});let B=g.querySelector(".talent-pool-checkbox-input");B&&!B.checked&&(B.checked=!0),s[C][v]=s[C][v]||[],E.value!=="on"&&E.value!==v&&!o(E.value,S)&&!s[C][v].includes(E.value)&&s[C][v].push(E.value)}}else E.value!=="on"&&!s[C].includes(E.value)&&s[C].push(E.value);E.addEventListener("change",D=>{let V=E.closest(".talent-pool-nested-group")||E.closest(".popup-transformed")||g.classList.contains("popup-transformed"),L=E.classList.contains("talent-pool-checkbox-input")&&E.closest(".talent-pool-nested-group"),B=E.classList.contains("talent-pool-checkbox-input");if(!V&&!L&&!B){let k=D.target.value;if(C==="custom_talent_category"){if(s[C][v]=s[C][v]||[],k!=="on"&&k!==v)if(D.target.checked)s[C][v].includes(k)||s[C][v].push(k);else{let O=s[C][v].indexOf(k);O>-1&&s[C][v].splice(O,1)}}else if(k!=="on")if(D.target.checked)s[C].push(k);else{let O=s[C].indexOf(k);O>-1&&s[C].splice(O,1)}let N=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(N)}});let w=E.nextElementSibling;w&&w.tagName==="LABEL"&&w.htmlFor&&(w.htmlFor=`popup-${w.htmlFor}`)}})});let U=new CustomEvent("PopupValueStored",{detail:s});document.dispatchEvent(U),d.querySelectorAll(".talent-pool-dropdown-button").forEach(g=>{g.addEventListener("click",C=>{S.dropdownButtonHandler(C)})});let et=document.createElement("div");et.classList.add("form-container"),r.appendChild(d),d.appendChild(et),document.body.appendChild(a);let rt=new CustomEvent("model-open",{detail:{container:a,formContainer:et}});document.dispatchEvent(rt)}),S.sidebar.appendChild(t)}var K=class{constructor(t){this.container=t.container,this.talentPool=t.talentPool,this.parent=t.parent,this.storedValue={},this.counter=t.counter,this.normalize=this.parent.normalize,this.labels=t.labels,this.popupTitle=t.popupTitle,this._events={},this.filterSidebar(),this.reset()}on(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)}emit(t,e){this._events[t]&&this._events[t].forEach(o=>o(e))}triggerChange(){this.emit("onChange",this.storedValue)}filterSidebar(){let t=document.createElement("div");t.classList.add("talent-pool-filter-sidebar");let e=document.createElement("div");e.classList.add("talent-pool-contain"),e.innerHTML='<div class="talent-pool-counter"><div class="counter-loading"></div><h4 class="total-count"></h4></div>';let o=document.createElement("div");o.classList.add("talent-pool-reset"),o.innerHTML=`${this.labels.resetLabel}`,e.appendChild(o),t.appendChild(e),this.container.appendChild(t),this.sidebar=t;let n=document.createElement("div");n.classList.add("cobalt_search"),n.innerHTML=`<input type="text" id="search" placeholder="${this.labels.searchPlaceholder}"></input>`,n.innerHTML+=' <span><svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" aria-hidden="true"><g id="Search1_layer"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></g></svg></span>',this.sidebar.appendChild(n);let a=document.createElement("div");a.classList.add("talent-pool-popup-title"),a.innerHTML=`<h4>${this.popupTitle}</h4>`,this.sidebar.appendChild(a)}updateData(t){let e=JSON.parse(JSON.stringify(this.storedValue));for(this.talentPool=t;this.sidebar.children.length>3;)this.sidebar.removeChild(this.sidebar.lastChild);this.parent&&(this.parent.talentPool=t,typeof this.parent.renderSidebar=="function"&&this.parent.renderSidebar()),this.storedValue=e,setTimeout(()=>{var o,n,a;for(let r in e){let d=e[r];if(typeof d=="object"&&!Array.isArray(d))for(let i in d){let l=d[i];if(typeof l=="object"&&!Array.isArray(l))for(let h in l){let u=l[h];if(Array.isArray(u))if(u.length===1&&u[0]==="selected"){let c=document.getElementById(`talent-pool-${r}-${i}-${h}`);c&&(c.checked=!0)}else if(u.length===1&&u[0]===h){let c=document.getElementById(`talent-pool-${r}-${i}-${h}`);c&&(c.checked=!0)}else{u.forEach(p=>{let s=document.getElementById(`talent-pool-${r}-${i}-${h}-${p}`);s&&(s.checked=!0)});let c=(n=(o=this.parent.custom_talent_category.group[i])==null?void 0:o.group)==null?void 0:n[h];if(c&&c.type!=="simple"){let p=c?this.getSimpleOptionsData(c.values||[]).length:0,s=u.length,m=document.getElementById(`talent-pool-${r}-${i}-${h}`);m&&p>0&&(m.checked=s===p,m.indeterminate=s>0&&s<p,m.classList.toggle("indeterminate",m.indeterminate))}}}else if(Array.isArray(l)){l.forEach(p=>{let s=document.getElementById(`talent-pool-${r}-${p}`);s&&(s.checked=!0)});let h=this.getSimpleOptionsData(((a=this.parent.custom_talent_category.group[i])==null?void 0:a.values)||[]).length,u=l.length,c=document.getElementById(`talent-pool-${r}-${i}`);c&&(c.checked=u===h,c.indeterminate=u>0&&u<h,c.classList.toggle("indeterminate",c.indeterminate))}}else Array.isArray(d)&&d.forEach(i=>{let l=document.getElementById(`talent-pool-${r}-${i}`);l&&(l.checked=!0)})}for(let r in e){let d=e[r];if(typeof d=="object"&&!Array.isArray(d))for(let i in d){let l=d[i];typeof l=="object"&&!Array.isArray(l)&&this.updateParentCheckboxState(r,i)}}this.triggerChange()},0)}rangeSlider(t){this.rangeSliderOption=t;let e=new J(tt(z({},t),{formateCurrency:this.parent.formateCurrency.bind(this.parent)})),o=e.initialize();this.sidebar.appendChild(o);let n=e.getValue();this.filterBySalary(n),e.on("change",a=>{this.filterBySalary(a)}),lt(this)}filterBySalary({minValue:t,maxValue:e}){this.storedValue.t_desired_salary={minValue:t,maxValue:e},this.triggerChange()}getOptionsData(t=null,e=[]){if(!t)return;let o=new Set,n=Array.isArray(t)?t:[t];this.talentPool.forEach(r=>{n.forEach(d=>{let i=r.properties[d];i&&!e.includes(i)&&o.add(i)})});let a=Array.from(o).map(r=>({label:r,value:r}));return a.sort((r,d)=>r.label.localeCompare(d.label)),a}getSimpleOptionsData(t=null){if(t)return t.map(e=>({label:e,value:e}))}addRemoveValueInStoredValue({key:t=null,value:e=null,groupKey:o=null}){if(!t||e===null)return;let n=JSON.parse(JSON.stringify(this.storedValue));if(o){this.storedValue[o]=this.storedValue[o]||{},this.storedValue[o][t]=this.storedValue[o][t]||[];let a=this.storedValue[o][t],r=a.indexOf(e);if(r>-1?a.splice(r,1):a.push(e),t.startsWith("t_desired_region_"))for(let d=1;d<=3;d++){let i=`t_desired_region_${d}`;if(i!==t){this.storedValue[o][i]=this.storedValue[o][i]||[];let l=this.storedValue[o][i].indexOf(e);l>-1&&this.storedValue[o][i].splice(l,1)}}}else{this.storedValue[t]=this.storedValue[t]||[];let a=this.storedValue[t].indexOf(e);a>-1?this.storedValue[t].splice(a,1):this.storedValue[t].push(e)}JSON.stringify(n)!==JSON.stringify(this.storedValue)&&this.triggerChange()}buildOptionsDataGroup({title:t="",key:e=null,group:o={filteredGroup}}){if(!e)return;if(Object.values(o).some(a=>a.type==="group"&&a.group))this.buildNestedOptionsDataGroup({title:t,key:e,group:o});else{if(t){let a=document.createElement("h3");a.textContent=t,this.sidebar.appendChild(a)}this.storedValue[e]={},Object.keys(o).forEach(a=>{let r=o[a];this.storedValue[e][a]=[],this.buildOptionsData({isCustom:!0,values:r.values||[],type:r.type||"checkbox",key:e,groupKey:a,exclude:r.exclude||[],placeholder:r.placeholder||"",title:r.name||a})})}}dropdownButtonHandler(t){t.target.closest(".talent-pool-checkboxes").classList.toggle("active")}buildOptionsData({isCustom:t=!1,values:e=[],type:o="checkbox",key:n=null,exclude:a=[],placeholder:r="",title:d="",groupKey:i=null,replace:l=null}){if(!n)return;let h=t?this.getSimpleOptionsData(e):this.getOptionsData(n,a),u=document.createElement("div");if(u.classList.add("talent-pool-checkboxes"),u.setAttribute("data-key",n),t&&i&&u.setAttribute("data-group-key",i),d&&!t){let c=document.createElement("h3");c.textContent=d,u.appendChild(c),this.storedValue[n]=[]}if(d&&t){let c=document.createElement("div");c.classList.add("talent-pool-dropdown-button"),c.textContent="",c.addEventListener("click",m=>{this.dropdownButtonHandler(m)}),u.appendChild(c);let p=document.createElement("input");p.type="checkbox",p.id=`talent-pool-${n}-${i}`,p.classList.add("talent-pool-checkbox-input");let s=document.createElement("label");s.htmlFor=p.id,s.textContent=d,u.appendChild(p),u.appendChild(s),p.addEventListener("change",m=>{this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][i]||(this.storedValue[n][i]=[]),m.target.checked?(this.storedValue[n][i]=h.map(f=>f.value),h.forEach(f=>{let b=document.getElementById(`talent-pool-${n}-${f.value}`);b&&(b.checked=!0)})):(this.storedValue[n][i]=[],h.forEach(f=>{let b=document.getElementById(`talent-pool-${n}-${f.value}`);b&&(b.checked=!1)})),m.target.indeterminate=!1,m.target.classList.remove("indeterminate"),this.triggerChange()})}if(o==="checkbox"){let c=document.createElement("div");c.classList.add("talent-pool-checkbox-group-wrapper"),d&&t&&c.classList.add("dropdown-container"),h.forEach(p=>{let s=document.createElement("div");s.classList.add("talent-pool-checkbox");let m=document.createElement("input");m.type="checkbox",m.value=p.value,i&&n==="custom_talent_category"?m.id=`talent-pool-${n}-${i}-${p.value}`:m.id=`talent-pool-${n}-${p.value}`;let f=document.createElement("label");if(f.htmlFor=m.id,l){let b=l[p.label]||p.label;f.textContent=b}else f.textContent=`${p.label}`;s.appendChild(m),s.appendChild(f),n!=="custom_talent_category"?m.addEventListener("change",()=>{this.addRemoveValueInStoredValue({key:n,value:p.value}),this.triggerChange()}):m.addEventListener("change",()=>{this.addRemoveValueInStoredValue({groupKey:n,key:i,value:p.value});let b=h.length,x=this.storedValue[n][i].length,_=document.getElementById(`talent-pool-${n}-${i}`);_&&(_.checked=b===x,_.classList.toggle("indeterminate",x>0&&x<b),_.indeterminate=x>0&&x<b),this.triggerChange()}),c.appendChild(s)}),u.appendChild(c)}else{let c=document.createElement("select");c.classList.add("talent-pool-select");let p=document.createElement("option");p.value="",p.textContent=r||"Select an option",c.appendChild(p),h.forEach(s=>{let m=document.createElement("option");m.value=s.value,m.textContent=s.label,c.appendChild(m)}),u.appendChild(c)}this.sidebar.appendChild(u)}buildNestedOptionsData({isCustom:t=!1,values:e=[],type:o="checkbox",key:n=null,exclude:a=[],placeholder:r="",title:d="",groupKey:i=null,subGroupKey:l=null,container:h=null}){if(!n)return;let u=t?this.getSimpleOptionsData(e):this.getOptionsData(n,a),c=h||document.createElement("div");if(c.classList.add("talent-pool-checkboxes","nested"),c.setAttribute("data-key",n),t&&i&&c.setAttribute("data-group-key",i),l&&c.setAttribute("data-subgroup-key",l),d&&t){let p=document.createElement("div");p.classList.add("talent-pool-dropdown-button","nested"),p.textContent="",p.addEventListener("click",f=>{this.dropdownButtonHandler(f)}),c.appendChild(p);let s=document.createElement("input");s.type="checkbox",s.id=l?`talent-pool-${n}-${i}-${l}`:`talent-pool-${n}-${i}`,s.classList.add("talent-pool-checkbox-input","nested");let m=document.createElement("label");m.htmlFor=s.id,m.textContent=d,m.classList.add("nested"),c.appendChild(s),c.appendChild(m),s.addEventListener("change",f=>{l?(this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][i]||(this.storedValue[n][i]={}),this.storedValue[n][i][l]||(this.storedValue[n][i][l]=[]),f.target.checked?(this.storedValue[n][i][l]=u.map(b=>b.value),u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${i}-${l}-${b.value}`);x&&(x.checked=!0)})):(this.storedValue[n][i][l]=[],u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${i}-${l}-${b.value}`);x&&(x.checked=!1)})),this.updateParentCheckboxState(n,i),setTimeout(()=>this.updateParentCheckboxState(n,i),10)):(this.storedValue[n]||(this.storedValue[n]={}),this.storedValue[n][i]||(this.storedValue[n][i]=[]),f.target.checked?(this.storedValue[n][i]=u.map(b=>b.value),u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${b.value}`);x&&(x.checked=!0)})):(this.storedValue[n][i]=[],u.forEach(b=>{let x=document.getElementById(`talent-pool-${n}-${b.value}`);x&&(x.checked=!1)}))),f.target.indeterminate=!1,f.target.classList.remove("indeterminate"),this.triggerChange()})}if(o==="checkbox"){let p=document.createElement("div");p.classList.add("talent-pool-checkbox-group-wrapper","nested"),d&&t&&p.classList.add("dropdown-container"),u.forEach(s=>{let m=document.createElement("div");m.classList.add("talent-pool-checkbox","nested");let f=document.createElement("input");f.type="checkbox",f.value=s.value,f.id=l?`talent-pool-${n}-${i}-${l}-${s.value}`:`talent-pool-${n}-${i}-${s.value}`,f.classList.add("nested");let b=document.createElement("label");b.htmlFor=f.id,b.textContent=s.label,b.classList.add("nested"),m.appendChild(f),m.appendChild(b),l?f.addEventListener("change",()=>{this.addRemoveValueInNestedGroup({key:n,groupKey:i,subGroupKey:l,value:s.value});let x=u.length,_=this.storedValue[n][i][l].length,y=document.getElementById(`talent-pool-${n}-${i}-${l}`);y&&(y.checked=x===_,y.classList.toggle("indeterminate",_>0&&_<x),y.indeterminate=_>0&&_<x),this.updateParentCheckboxState(n,i),setTimeout(()=>this.updateParentCheckboxState(n,i),10),this.triggerChange()}):f.addEventListener("change",()=>{this.addRemoveValueInStoredValue({groupKey:n,key:i,value:s.value});let x=u.length,_=this.storedValue[n][i].length,y=document.getElementById(`talent-pool-${n}-${i}`);y&&(y.checked=x===_,y.classList.toggle("indeterminate",_>0&&_<x),y.indeterminate=_>0&&_<x),this.triggerChange()}),p.appendChild(m)}),c.appendChild(p)}h||this.sidebar.appendChild(c)}addRemoveValueInNestedGroup({key:t=null,groupKey:e=null,subGroupKey:o=null,value:n=null}){if(!t||!e||!o||!n)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]);let a=this.storedValue[t][e][o],r=a.indexOf(n);r>-1?a.splice(r,1):a.push(n),this.triggerChange()}buildNestedOptionsDataGroup({title:t="",key:e=null,group:o={}}){if(e){if(t){let n=document.createElement("h3");n.classList.add("custom_talent"),n.textContent=t,this.sidebar.appendChild(n)}this.storedValue[e]={},Object.keys(o).forEach(n=>{let a=o[n];if(a.type==="group"&&a.group){let r=document.createElement("div");r.classList.add("talent-pool-checkboxes","talent-pool-nested-group","nested"),r.setAttribute("data-key",e),r.setAttribute("data-group-key",n);let d=document.createElement("div");d.classList.add("talent-pool-dropdown-button","nested"),d.textContent="",d.addEventListener("click",u=>{this.dropdownButtonHandler(u)}),r.appendChild(d);let i=document.createElement("input");i.type="checkbox",i.id=`talent-pool-${e}-${n}`,i.classList.add("talent-pool-checkbox-input","nested");let l=document.createElement("label");l.htmlFor=i.id,l.textContent=a.name||n,l.classList.add("nested"),r.appendChild(i),r.appendChild(l);let h=document.createElement("div");h.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested"),this.storedValue[e][n]={},i.addEventListener("change",u=>{let c=Object.keys(a.group);u.target.checked?c.forEach(p=>{let s=a.group[p],m=document.getElementById(`talent-pool-${e}-${n}-${p}`);m&&(m.checked=!0),s.type==="simple"?this.storedValue[e][n][p]=s.values||[p]:s.values&&s.values.length>0?(this.storedValue[e][n][p]=[...s.values],s.values.forEach(f=>{let b=document.getElementById(`talent-pool-${e}-${n}-${p}-${f}`);b&&(b.checked=!0)})):this.storedValue[e][n][p]=["selected"]}):c.forEach(p=>{let s=a.group[p],m=document.getElementById(`talent-pool-${e}-${n}-${p}`);m&&(m.checked=!1),this.storedValue[e][n][p]=[],s.values&&s.values.length>0&&s.values.forEach(f=>{let b=document.getElementById(`talent-pool-${e}-${n}-${p}-${f}`);b&&(b.checked=!1)})}),u.target.indeterminate=!1,u.target.classList.remove("indeterminate"),this.triggerChange()}),Object.keys(a.group).forEach(u=>{let c=a.group[u];this.storedValue[e][n][u]=[];let p=document.createElement("div");p.classList.add("talent-pool-nested-subgroup","nested"),c.type==="simple"?this.buildSimpleNestedCategory({key:e,groupKey:n,subGroupKey:u,title:c.name||u,container:p}):!c.values||c.values.length===0?this.buildEmptyNestedGroup({key:e,groupKey:n,subGroupKey:u,title:c.name||u,container:p}):this.buildNestedOptionsData({isCustom:!0,values:c.values||[],type:c.type||"checkbox",key:e,groupKey:n,subGroupKey:u,exclude:c.exclude||[],placeholder:c.placeholder||"",title:c.name||u,container:p}),h.appendChild(p)}),r.appendChild(h),this.sidebar.appendChild(r)}else this.storedValue[e][n]=[],this.buildOptionsData({isCustom:!0,values:a.values||[],type:a.type||"checkbox",key:e,groupKey:n,exclude:a.exclude||[],placeholder:a.placeholder||"",title:a.name||n})})}}buildSimpleNestedCategory({key:t=null,groupKey:e=null,subGroupKey:o=null,title:n="",container:a=null}){if(!t||!e||!o)return;let r=document.createElement("div");r.classList.add("talent-pool-checkbox","nested","simple-category");let d=document.createElement("input");d.type="checkbox",d.id=`talent-pool-${t}-${e}-${o}`,d.classList.add("talent-pool-checkbox-input","nested"),d.value=o;let i=document.createElement("label");if(i.htmlFor=d.id,i.textContent=n,i.classList.add("nested"),r.appendChild(d),r.appendChild(i),d.addEventListener("change",l=>{var h;if(this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]),l.target.checked){let u=this.parent.custom_talent_category.group[e],c=(h=u==null?void 0:u.group)==null?void 0:h[o],p=(c==null?void 0:c.values)||[o];this.storedValue[t][e][o]=[...p]}else this.storedValue[t][e][o]=[];this.updateParentCheckboxState(t,e),setTimeout(()=>this.updateParentCheckboxState(t,e),10),this.triggerChange()}),a)a.appendChild(r);else{let l=document.createElement("div");l.classList.add("talent-pool-simple-nested-category","nested"),l.setAttribute("data-key",t),l.setAttribute("data-group-key",e),l.setAttribute("data-subgroup-key",o),l.appendChild(r),this.sidebar.appendChild(l)}}buildEmptyNestedGroup({key:t=null,groupKey:e=null,subGroupKey:o=null,title:n="",container:a=null}){if(!t||!e||!o)return;let r=a||document.createElement("div");r.classList.add("talent-pool-checkboxes","nested","empty-group"),r.setAttribute("data-key",t),r.setAttribute("data-group-key",e),r.setAttribute("data-subgroup-key",o);let d=document.createElement("div");d.classList.add("talent-pool-dropdown-button","nested"),d.textContent="",d.addEventListener("click",u=>{this.dropdownButtonHandler(u)}),r.appendChild(d);let i=document.createElement("input");i.type="checkbox",i.id=`talent-pool-${t}-${e}-${o}`,i.classList.add("talent-pool-checkbox-input","nested");let l=document.createElement("label");l.htmlFor=i.id,l.textContent=n,l.classList.add("nested"),r.appendChild(i),r.appendChild(l),i.addEventListener("change",u=>{this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={}),this.storedValue[t][e][o]||(this.storedValue[t][e][o]=[]),u.target.checked?this.storedValue[t][e][o]=["selected"]:this.storedValue[t][e][o]=[],this.updateParentCheckboxState(t,e),this.triggerChange()});let h=document.createElement("div");h.classList.add("talent-pool-checkbox-group-wrapper","dropdown-container","nested","empty"),h.innerHTML='<div class="empty-group-placeholder nested">No specific options</div>',r.appendChild(h),a||this.sidebar.appendChild(r)}updateParentCheckboxState(t,e){let o=document.getElementById(`talent-pool-${t}-${e}`);if(!o)return;let n=this.parent.custom_talent_category.group[e];if(!n||!n.group)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={});let a=Object.keys(n.group),r=this.storedValue[t][e]||{},d=0,i=0,l=0,h=a.length;a.forEach(s=>{let m=r[s]||[],f=n.group[s],b=document.getElementById(`talent-pool-${t}-${e}-${s}`);if(m.length===0){l++;return}if(f.type==="simple")d++;else if(f.values&&f.values.length>0){let x=f.values.length,_=m.length;_===x?d++:_>0&&i++}else d++});let u=d===h&&h>0,c=l===h,p=i>0||d>0&&l>0;u?(o.checked=!0,o.indeterminate=!1,o.classList.remove("indeterminate")):c?(o.checked=!1,o.indeterminate=!1,o.classList.remove("indeterminate")):p&&(o.checked=!1,o.indeterminate=!0,o.classList.add("indeterminate")),o.classList.toggle("indeterminate",o.indeterminate),this.updateParentGroupCounter(t,e)}updateAllParentGroupCounters(){if(!this.parent||!this.parent.custom_talent_category)return;let t=this.parent.custom_talent_category.group;for(let e in t){let o=t[e];o.type==="group"&&o.group&&this.updateParentGroupCounter("custom_talent_category",e)}}updateParentGroupCounter(t,e){if(t!=="custom_talent_category")return;let o=document.getElementById(`talent-pool-${t}-${e}`);if(!o)return;let n=o.nextElementSibling;if(!n)return;let a=n.querySelector(".talent-pool-counter-label");if(!a)return;this.storedValue[t]||(this.storedValue[t]={}),this.storedValue[t][e]||(this.storedValue[t][e]={});let r=this.storedValue[t][e]||{},d=0,i=!1;if(Object.keys(r).forEach(l=>{if((r[l]||[]).length>0){i=!0;let u=document.getElementById(`talent-pool-${t}-${e}-${l}`);if(u){let c=u.nextElementSibling,p=c==null?void 0:c.querySelector(".talent-pool-counter-label");if(p){let s=p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;d+=m}}}}),!i){d=0;let l=this.parent.custom_talent_category.group[e];l&&l.group&&Object.keys(l.group).forEach(h=>{let u=document.getElementById(`talent-pool-${t}-${e}-${h}`);if(u){let c=u.nextElementSibling,p=c==null?void 0:c.querySelector(".talent-pool-counter-label");if(p){let s=p.textContent.match(/\((\d+)\)/),m=s?parseInt(s[1]):0;d+=m}}})}a.textContent=` (${d})`}reset(){document.querySelectorAll('.talent-pool-filter-sidebar input[type="checkbox"]:checked').forEach(e=>{e.checked=!1})}};var nt=class{constructor(t={}){this.options=t,this.custom_talent_category=t.custom_talent_category,this.container=document.querySelector(t.container),this.talentPool=t.data||[],this.sidebar=new K({container:this.container,talentPool:this.talentPool,parent:this,labels:this.options.labels,popupTitle:this.options.popupTitle}),this.sidebar.Filter=this.Filter,this.Filter=new Q({container:this.container,sidebar:this.sidebar,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels,itemsPerPageShow:this.options.itemsPerPageShow,loadingText:this.options.loadingText,InnerPageLink:this.options.InnerPageLink,formateCurrency:this.formateCurrency.bind(this)}),this.sidebar.Filter=this.Filter,this.counter=new X({sidebar:this.sidebar,Filter:this.Filter,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels},{container:this.container,Filter:this.Filter}),this.Filter.Counter=this.counter,this.dataSort=new Z({sidebar:this.sidebar,Filter:this.Filter,Counter:this.counter,talentPool:this.talentPool,normalize:this.normalize.bind(this),getSplitPattern:this.getSplitPattern.bind(this),labels:this.options.labels},{container:this.container,Filter:this.Filter,Counter:this.counter}),this.RangeSlider=new J({sidebar:this.sidebar,slider:this.sidebar.rangeSlider}),this.initializeLoading()}renderSidebar(){let t=this.talentPool.map(a=>(a.properties.custom_talent_category||"").trim().toLowerCase()),e=new Set(t.filter(Boolean)),o=this.custom_talent_category.group,n={};for(let[a,r]of Object.entries(o))n[a]=z(z({},r),r.values&&{values:[...r.values]});this.sidebar.buildOptionsData(z({},this.options.t_procedure_txt)),this.sidebar.buildOptionsDataGroup(z({},this.custom_talent_category)),this.sidebar.buildOptionsData(z({},this.options.t_experience_level)),this.sidebar.buildOptionsData(z({},this.options.t_desired_region_1)),this.sidebar.rangeSlider(z({},this.options.t_desired_salary))}normalize(t){return String(t||"").normalize("NFKC").replace(/[^\x20-\x7E]/g,"").toLowerCase().replace(/[_\s]+/g," ").replace(/\s*&\s*/g," and ").replace(/\s+and\s+/g," and ").replace(/\b_[a-z]$/i,"").trim()}getSplitPattern(t){return t.includes(";")?/[;]/:(t.match(/,/g)||[]).length>1||t.length<100?/[;,]/:/[;]/}formateCurrency(t,e="\u20B9"){let o=parseFloat(t);return isNaN(o)?t:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o).replace("\u20B9",e)}initializeLoading(){let t=document.querySelector(".talent-pool-loading-text");if(t&&this.options.loadingText){if(!t.querySelector("h4")){let e=document.createElement("h4");e.textContent=this.options.loadingText,t.appendChild(e)}t.style.display="block"}}toggleLoading(t){let e={loading:t?"flex":"none",box:t?"none":"flex",pagination:t?"none":"flex",sidebar:t?"none":"block",sorting:t?"none":"block"},o={loading:document.querySelector(".talent-pool-loading-text"),box:document.querySelector(".talent-pool-filter-box"),pagination:document.querySelector(".pagination_contain"),sidebar:document.querySelector(".talent-pool-filter-sidebar"),sorting:document.querySelector(".talent-pool-sorting-container"),main:document.getElementById("TalentPool")};o.loading&&(o.loading.style.display=e.loading),o.box&&(o.box.style.display=e.box),o.pagination&&(o.pagination.style.display=e.pagination),o.sidebar&&(o.sidebar.style.display=e.sidebar),o.sorting&&(o.sorting.style.display=e.sorting),o.main&&o.main.classList.toggle("add_id",t)}counterLoading(t=!0){let e=this.container.querySelector(".talent-pool-counter");if(!e)return;let o=e.querySelector(".counter-loading");t?o&&(o.style.display="block"):o&&(o.style.display="none")}counerShowLoading(){this.counterLoading(!0)}counerHideLoading(){this.counterLoading(!1)}showLoading(){this.toggleLoading(!0)}hideLoading(){this.toggleLoading(!1)}popupClose(){let t=document.querySelector(".talent-pool-popup-container");t&&(t.remove(),document.body.classList.remove("open-popup"),document.dispatchEvent(new CustomEvent("model-close")))}createCloseButton(t=()=>{}){let e=document.createElement("button");return e.classList.add("talent-pool-close-button"),e.innerHTML='<svg height="512px" id="Layer_1" style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"></path></svg>',e.addEventListener("click",()=>{this.popupClose(),t()}),e}};window.TalentPool=nt;})();
//# sourceMappingURL=bundle.talentpool.js.map
