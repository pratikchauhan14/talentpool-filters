{
  "version": 3,
  "sources": ["../src/counter.js", "../src/sorting.js", "../src/filter.js", "../src/range_slider.js", "../src/popup_data.js", "../src/sidebar.js", "../src/index.js"],
  "sourcesContent": ["export default class Counter {\n\tconstructor(option, { sidebar, container }) {\n\t\tthis.normalize = option.normalize;\n\t\tthis.sidebar = option.sidebar;\n\t\tthis.filter = option.Filter;\n\t\tthis.getSplitPattern = option.getSplitPattern;\n\t\tthis.talentPool = option.talentPool || [];\n\t\tthis.filteredData = this.filter.filteredData;\n\t\tthis.container = container;\n\t\tthis.totalCountElement = null;\n\t\tthis.groupCountsContainer = null;\n\t\tthis.initUI();\n\t\tsetTimeout(() => this.appendCounterToSidebar(), 0);\n\t\tthis.sidebar.on(\"onChange\", (storedValue) => {\n\t\t\tthis.storedValue = storedValue;\n\t\t\tthis.applyFilters();\n\t\t});\n\t\tthis.labels = option.labels || {};\n\t\tthis.reset();\n\t}\n\t\n\tapplyFilters() {\n\t\tthis.updateCounter();\n\t}\n\tupdateCounter() {\n\t\tconst normalize = this.normalize.bind(this);\n\t\tconst keys = ['t_procedure_txt', 'custom_talent_category', 't_experience_level', 't_desired_region_1', 't_desired_region_2', 't_desired_region_3', 't_desired_salary'];\n\t\tconst filters = this.storedValue || {};\n\t\tconst prepared = this.filter.prepareFilterValues(filters);\n\t\tconst filteredData = this.filter.filteredData;\n\t\tconst baseCounts = this.computeCounts(this.talentPool, keys, normalize);\n\t\tconst filteredCounts = this.computeCounts(filteredData, keys, normalize, prepared);\n\t\tconst finalCounts = { ...baseCounts, ...filteredCounts };\n\t\tconst total = filteredData.length || this.talentPool.length;\n\t\tif (this.sidebar?.parent?.counter) {\n\t\t\tthis.sidebar.parent.counter.update({ total, groupCounts: finalCounts });\n\n\t\t}\n\t\tconst flatCounts = {};\n\t\tfor (const groupKey in finalCounts) {\n\t\t\tObject.assign(flatCounts, finalCounts[groupKey]);\n\t\t}\n\t\tthis.updateGroupCategoryCounts(flatCounts);\n\t\tthis.updateNestedGroupCounts(flatCounts);\n\t}\n\tcomputeCounts(dataSource, keys, normalize, prepared = {}) {\n\t\tconst groupCounts = {};\n\t\tfor (const key of keys) {\n\t\t\tif (key === 't_desired_region_2' || key === 't_desired_region_3') continue;\n\t\t\tconst activeValues = (prepared[key] || []).map(normalize);\n\t\t\tconst localGroupCount = {};\n\t\t\tfor (const talent of dataSource) {\n\t\t\t\tlet raw = talent.properties[key];\n\t\t\t\tif (key === 't_desired_region_1') {\n\t\t\t\t\tconst regionValues = new Set();\n\t\t\t\t\tfor (let i = 1; i <= 3; i++) {\n\t\t\t\t\t\tconst regionKey = `t_desired_region_${i}`;\n\t\t\t\t\t\tconst regionValue = talent.properties[regionKey];\n\t\t\t\t\t\tif (regionValue) {\n\t\t\t\t\t\t\tconst splitValues = regionValue.split(/[,\\s]+/).filter(Boolean);\n\t\t\t\t\t\t\tsplitValues.forEach(val => regionValues.add(val.trim()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\traw = Array.from(regionValues).join(',');\n\t\t\t\t}\n\t\t\t\tif (!raw) continue;\n\t\t\t\tconst splitPattern = this.getSplitPattern(raw);\n\t\t\t\tconst talentValues = [...new Set(\n\t\t\t\t\traw.split(splitPattern)\n\t\t\t\t\t.map(val => normalize(val))\n\t\t\t\t\t.filter(Boolean)\n\t\t\t\t)];\n\t\t\t\tconst fullValue = normalize(raw);\n\t\t\t\tfor (const category of talentValues) {\n\t\t\t\t\n\t\t\t\t\tlet isSimpleCategory = false;\n\t\t\t\t\tif (key === 'custom_talent_category' && this.sidebar?.parent?.custom_talent_category) {\n\t\t\t\t\t\tconst customGroups = this.sidebar.parent.custom_talent_category.group;\n\t\t\t\t\t\tfor (const groupKey in customGroups) {\n\t\t\t\t\t\t\tconst groupConfig = customGroups[groupKey];\n\t\t\t\t\t\t\tif (groupConfig.type === 'group' && groupConfig.group) {\n\t\t\t\t\t\t\t\tfor (const subGroupKey in groupConfig.group) {\n\t\t\t\t\t\t\t\t\tconst subGroupConfig = groupConfig.group[subGroupKey];\n\t\t\t\t\t\t\t\t\tif (subGroupConfig.type === 'simple' &&\n\t\t\t\t\t\t\t\t\t\tsubGroupConfig.values &&\n\t\t\t\t\t\t\t\t\t\tsubGroupConfig.values.some(val => normalize(val) === category)) {\n\t\t\t\t\t\t\t\t\t\tisSimpleCategory = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (isSimpleCategory) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Use the existing normalize function from parent\n\t\t\t\t\tconst normalizedCategory = this.normalize(category);\n\n\t\t\t\t\tif (isSimpleCategory) {\n\t\t\t\t\t\t// For simple categories\n\t\t\t\t\t\tif (!normalizedCategory.includes(\"_\") && this.shouldCount(normalizedCategory, activeValues, fullValue)) {\n\t\t\t\t\t\t\tlocalGroupCount[normalizedCategory] = (localGroupCount[normalizedCategory] || 0) + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.shouldCount(normalizedCategory, activeValues, fullValue)) {\n\t\t\t\t\t\tlocalGroupCount[normalizedCategory] = (localGroupCount[normalizedCategory] || 0) + 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (!talentValues.includes(fullValue)) {\n\t\t\t\t\tlet isSimpleCategory = false;\n\t\t\t\t\tif (key === 'custom_talent_category' && this.sidebar?.parent?.custom_talent_category) {\n\t\t\t\t\t\tconst customGroups = this.sidebar.parent.custom_talent_category.group;\n\t\t\t\t\t\tfor (const groupKey in customGroups) {\n\t\t\t\t\t\t\tconst groupConfig = customGroups[groupKey];\n\t\t\t\t\t\t\tif (groupConfig.type === 'group' && groupConfig.group) {\n\t\t\t\t\t\t\t\tfor (const subGroupKey in groupConfig.group) {\n\t\t\t\t\t\t\t\t\tconst subGroupConfig = groupConfig.group[subGroupKey];\n\t\t\t\t\t\t\t\t\tif (subGroupConfig.type === 'simple' &&\n\t\t\t\t\t\t\t\t\t\tsubGroupConfig.values &&\n\t\t\t\t\t\t\t\t\t\tsubGroupConfig.values.some(val => normalize(val) === fullValue)) {\n\t\t\t\t\t\t\t\t\t\tisSimpleCategory = true;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (isSimpleCategory) break;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isSimpleCategory) {\n\t\t\t\t\t\tif (!fullValue.includes(\"_\") && this.shouldCount(fullValue, activeValues, fullValue)) {\n\t\t\t\t\t\t\tlocalGroupCount[fullValue] = (localGroupCount[fullValue] || 0) + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (this.shouldCount(fullValue, activeValues, fullValue)) {\n\t\t\t\t\t\tlocalGroupCount[fullValue] = (localGroupCount[fullValue] || 0) + 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (activeValues.length > 0) {\n\t\t\t\tconst checkboxes = this.sidebar.sidebar.querySelectorAll(`[data-key=\"${key}\"] input[type=\"checkbox\"]`);\n\t\t\t\tcheckboxes.forEach(checkbox => {\n\t\t\t\t\tconst val = normalize(checkbox.value);\n\t\t\t\t\tif (!(val in localGroupCount)) localGroupCount[val] = 0;\n\t\t\t\t});\n\t\t\t\tactiveValues.forEach(val => {\n\t\t\t\t\tif (!(val in localGroupCount)) localGroupCount[val] = 0;\n\t\t\t\t});\n\t\t\t}\n\t\t\t// nested group counting\n\t\t\tif (key === 'custom_talent_category' && this.sidebar.parent && this.sidebar.parent.custom_talent_category) {\n\t\t\t\tconst customGroups = this.sidebar.parent.custom_talent_category.group;\n\n\t\t\t\tfor (const groupKey in customGroups) {\n\t\t\t\t\tconst groupConfig = customGroups[groupKey];\n\t\t\t\t\tif (groupConfig.type === 'group' && groupConfig.group) {\n\t\t\t\t\t\t// nested group\n\t\t\t\t\t\tfor (const subGroupKey in groupConfig.group) {\n\t\t\t\t\t\t\tconst subGroupConfig = groupConfig.group[subGroupKey];\n\t\t\t\t\t\t\tif (subGroupConfig.values) {\n\t\t\t\t\t\t\t\tsubGroupConfig.values.forEach(value => {\n\t\t\t\t\t\t\t\t\tconst normalizedValue = normalize(value);\n\t\t\t\t\t\t\t\t\tif (!(normalizedValue in localGroupCount)) {\n\t\t\t\t\t\t\t\t\t\t// Count occurrences for nested group values\n\t\t\t\t\t\t\t\t\t\tlet count = 0;\n\t\t\t\t\t\t\t\t\t\tfor (const talent of dataSource) {\n\t\t\t\t\t\t\t\t\t\t\tconst raw = talent.properties[key];\n\t\t\t\t\t\t\t\t\t\t\tif (!raw) continue;\n\t\t\t\t\t\t\t\t\t\t\tconst splitPattern = this.getSplitPattern(raw);\n\t\t\t\t\t\t\t\t\t\t\tconst talentValues = raw.split(splitPattern).map(normalize).filter(Boolean);\n\t\t\t\t\t\t\t\t\t\t\tconst fullValue = normalize(raw);\n\n\t\t\t\t\t\t\t\t\t\t\tif (talentValues.includes(normalizedValue) || fullValue === normalizedValue) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.shouldCount(normalizedValue, activeValues, fullValue)) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlocalGroupCount[normalizedValue] = count;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (subGroupConfig.type === 'simple') {\n\t\t\t\t\t\t\t\t// nested simple category\n\t\t\t\t\t\t\t\tconst normalizedValue = normalize(subGroupKey);\n\t\t\t\t\t\t\t\tif (!(normalizedValue in localGroupCount)) {\n\t\t\t\t\t\t\t\t\tlet count = 0;\n\t\t\t\t\t\t\t\t\tfor (const talent of dataSource) {\n\t\t\t\t\t\t\t\t\t\tconst raw = talent.properties[key];\n\t\t\t\t\t\t\t\t\t\tif (!raw) continue;\n\t\t\t\t\t\t\t\t\t\tconst splitPattern = this.getSplitPattern(raw);\n\t\t\t\t\t\t\t\t\t\tconst talentValues = raw.split(splitPattern).map(normalize).filter(Boolean);\n\t\t\t\t\t\t\t\t\t\tconst fullValue = normalize(raw);\n\n\t\t\t\t\t\t\t\t\t\tif (talentValues.includes(normalizedValue) || fullValue === normalizedValue) {\n\t\t\t\t\t\t\t\t\t\t\tif (this.shouldCount(normalizedValue, activeValues, fullValue)) {\n\t\t\t\t\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlocalGroupCount[normalizedValue] = count;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tgroupCounts[key] = localGroupCount;\n\t\t}\n\t\treturn groupCounts;\n\t}\n\tshouldCount(category, activeValues, fullValue) {\n\t\t// Check if this is a simple category from nested groups\n\t\tlet isSimpleCategory = false;\n\t\tif (this.sidebar?.parent?.custom_talent_category) {\n\t\t\tconst customGroups = this.sidebar.parent.custom_talent_category.group;\n\t\t\tfor (const groupKey in customGroups) {\n\t\t\t\tconst groupConfig = customGroups[groupKey];\n\t\t\t\tif (groupConfig.type === 'group' && groupConfig.group) {\n\t\t\t\t\tfor (const subGroupKey in groupConfig.group) {\n\t\t\t\t\t\tconst subGroupConfig = groupConfig.group[subGroupKey];\n\t\t\t\t\t\tif (subGroupConfig.type === 'simple' &&\n\t\t\t\t\t\t\tsubGroupConfig.values &&\n\t\t\t\t\t\t\tsubGroupConfig.values.some(val => this.normalize(val) === category)) {\n\t\t\t\t\t\t\tisSimpleCategory = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (isSimpleCategory) break;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isSimpleCategory) {\n\t\t\t// For simple categories, only count exact matches\n\t\t\treturn activeValues.length === 0 || activeValues.includes(category);\n\t\t}\n\t\t// For other categories, use the original logic\n\t\treturn activeValues.length === 0 || activeValues.includes(category) || fullValue === category;\n\t}\n\tinitUI() {\n\t\tthis.totalCountElement = this.sidebar.sidebar.querySelector('.total-count');\n\t\tif (!this.totalCountElement) {\n\t\t\tconsole.error('Counter element not found in sidebar');\n\t\t}\n\t}\n\tupdate({ total = 0, groupCounts = {} }) {\n\t\tthis.totalCountElement.textContent = `${total} ${this.labels.counterLabel}`;\n\t\tconst allLabels = this.sidebar.sidebar.querySelectorAll('[data-counter-label]');\n\t\tallLabels.forEach(label => {\n\t\t\tconst key = label.getAttribute('data-counter-label');\n\t\t\tlet count = 0;\n\t\t\tfor (const group in groupCounts) {\n\t\t\t\tif (groupCounts[group]?.[key] != null) {\n\t\t\t\t\tcount = groupCounts[group][key];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlabel.textContent = ` (${count})`;\n\t\t});\n\t}\n\thideZeroLabelsOnLoad() {\n\t\tconst groups = this.sidebar.sidebar.querySelectorAll('.talent-pool-checkboxes');\n\t\tgroups.forEach(group => {\n\t\t\tconst checkboxes = group.querySelectorAll('[data-counter-label]');\n\t\t\tlet hasVisible = false;\n\t\t\tcheckboxes.forEach(label => {\n\t\t\t\tconst match = label.textContent.match(/\\((\\d+)\\)/);\n\t\t\t\tconst count = match ? parseInt(match[1]) : 0;\n\t\t\t\tconst labelWrapper = label.closest('.talent-pool-checkbox');\n\t\t\t\tif (!labelWrapper) return;\n\t\t\t\tlabelWrapper.style.display = count === 0 ? 'none' : '';\n\t\t\t\tif (count > 0) hasVisible = true;\n\t\t\t});\n\t\t\tgroup.style.display = hasVisible ? '' : 'none';\n\t\t});\n\t}\n\tappendCounterToSidebar() {\n\t\t// console.log(\"[Counter] Appending counters to sidebar...\");\n\t\tif (!this.sidebar?.sidebar) return;\n\t\tconst checkboxes = this.sidebar.sidebar.querySelectorAll('input[type=\"checkbox\"]');\n\t\tcheckboxes.forEach(checkbox => {\n\t\t\t//console.log(\"Checkbox:\", checkbox);\n\t\t\tconst value = checkbox.value;\n\t\t\tconst label = checkbox.nextElementSibling;\n\t\t\t //console.log(\"Label:\", label);\n\t\t\tif (!label) return;\n\t\t\tif (label.querySelector('.talent-pool-counter-label')) return;\n\t\t\tconst countLabel = document.createElement(\"span\");\n\t\t\tcountLabel.setAttribute(\"data-counter-label\", this.normalize(value));\n\t\t\tcountLabel.classList.add(\"talent-pool-counter-label\");\n\t\t\tlabel.appendChild(countLabel);\n\t\t});\n\t\tthis.updateCounter();\n\t\tthis.hideZeroLabelsOnLoad();\n\t\t// group category counts\n\t\tconst normalize = this.normalize.bind(this);\n\t\t\n\t\tconst keys = ['t_procedure_txt', 'custom_talent_category', 't_experience_level', 't_desired_region_1', 't_desired_salary'];\n\t\tconst baseCounts = this.computeCounts(this.talentPool, keys, normalize);\n\t\tconst flatCounts = {};\n\t\tfor (const groupKey in baseCounts) {\n\t\t\tObject.assign(flatCounts, baseCounts[groupKey]);\n\t\t}\n\t\tthis.updateGroupCategoryCounts(flatCounts);\n\t\tthis.updateNestedGroupCounts(flatCounts);\n\t\tconst allGroupContainers = this.sidebar.sidebar.querySelectorAll('.talent-pool-checkboxes');\n\t\tconst hasActiveFilters = Object.values(this.storedValue || {}).some(val => {\n\t\t\tif (Array.isArray(val)) return val.length > 0;\n\t\t\tif (typeof val === 'object') return Object.values(val).some(arr => Array.isArray(arr) && arr.length > 0);\n\t\t\treturn false;\n\t\t});\n\t\tallGroupContainers.forEach(container => {\n\t\t\tconst checkboxes = container.querySelectorAll('.talent-pool-checkbox');\n\t\t\tlet hasVisible = false;\n\t\t\tcheckboxes.forEach(box => {\n\t\t\t\tconst label = box.querySelector('[data-counter-label]');\n\t\t\t\tconst countMatch = label?.textContent.match(/\\((\\d+)\\)/);\n\t\t\t\tconst count = countMatch ? parseInt(countMatch[1]) : 0;\n\t\t\t\tif (hasActiveFilters) {\n\t\t\t\t\tbox.style.display = \"\";\n\t\t\t\t\thasVisible = true;\n\t\t\t\t} else {\n\t\t\t\t\tbox.style.display = count > 0 ? \"\" : \"none\";\n\t\t\t\t\tif (count > 0) hasVisible = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcontainer.style.display = hasVisible ? \"\" : \"none\";\n\t\t});\n\t}\n\tupdateGroupCategoryCounts(filterCounts = {}) {\n\t\tconst parentCheckboxes = document.querySelectorAll('.talent-pool-checkbox-input');\n\t\tparentCheckboxes.forEach(parentCheckbox => {\n\t\t\tconst parentLabel = parentCheckbox.nextElementSibling;\n\t\t\tconst container = parentCheckbox.closest('.talent-pool-checkboxes');\n\t\t\tconst dropdown = container?.querySelector('.dropdown-container');\n\t\t\tif (!dropdown) return;\n\t\t\tlet total = 0;\n\t\t\tconst childCheckboxes = dropdown.querySelectorAll('input[type=\"checkbox\"]');\n\t\t\tchildCheckboxes.forEach(child => {\n\t\t\t\tconst value = this.normalize(child.value);\n\t\t\t\ttotal += filterCounts[value] || 0;\n\t\t\t});\n\t\t\tconst counterSpan = parentLabel.querySelector('.talent-pool-counter-label');\n\t\t\tif (counterSpan) {\n\t\t\t\tcounterSpan.textContent = ` (${total})`;\n\t\t\t}\n\t\t});\n\t}\n\tupdateNestedGroupCounts(filterCounts = {}) {\n\t\t// nested groups \n\t\tif (this.sidebar.parent && this.sidebar.parent.custom_talent_category) {\n\t\t\tconst customGroups = this.sidebar.parent.custom_talent_category.group;\n\t\t\tfor (const groupKey in customGroups) {\n\t\t\t\tconst groupConfig = customGroups[groupKey];\n\t\t\t\tif (groupConfig.type === 'group' && groupConfig.group) {\n\t\t\t\t\t// Update main group counter\n\t\t\t\t\tconst mainGroupCheckbox = document.getElementById(`talent-pool-custom_talent_category-${groupKey}`);\n\t\t\t\t\tif (mainGroupCheckbox) {\n\t\t\t\t\t\tconst mainGroupLabel = mainGroupCheckbox.nextElementSibling;\n\t\t\t\t\t\tlet totalGroupCount = 0;\n\t\t\t\t\t\t// Calculate total count for all subgroups\n\t\t\t\t\t\tfor (const subGroupKey in groupConfig.group) {\n\t\t\t\t\t\t\tconst subGroupConfig = groupConfig.group[subGroupKey];\n\t\t\t\t\t\t\tlet subGroupTotal = 0;\n\n\t\t\t\t\t\t\tif (subGroupConfig.values) {\n\t\t\t\t\t\t\t\tsubGroupConfig.values.forEach(value => {\n\t\t\t\t\t\t\t\t\tconst normalizedValue = this.normalize(value);\n\t\t\t\t\t\t\t\t\tsubGroupTotal += filterCounts[normalizedValue] || 0;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else if (subGroupConfig.type === 'simple') {\n\t\t\t\t\t\t\t\tconst normalizedValue = this.normalize(subGroupKey);\n\t\t\t\t\t\t\t\tsubGroupTotal += filterCounts[normalizedValue] || 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttotalGroupCount += subGroupTotal;\n\t\t\t\t\t\t\t// Update subgroup counter\n\t\t\t\t\t\t\tconst subGroupCheckbox = document.getElementById(`talent-pool-custom_talent_category-${groupKey}-${subGroupKey}`);\n\t\t\t\t\t\t\tif (subGroupCheckbox) {\n\t\t\t\t\t\t\t\tconst subGroupLabel = subGroupCheckbox.nextElementSibling;\n\t\t\t\t\t\t\t\tconst subGroupCounterSpan = subGroupLabel.querySelector('.talent-pool-counter-label');\n\t\t\t\t\t\t\t\tif (subGroupCounterSpan) {\n\t\t\t\t\t\t\t\t\tsubGroupCounterSpan.textContent = ` (${subGroupTotal})`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Update individual value counters within subgroups\n\t\t\t\t\t\t\tif (subGroupConfig.values && subGroupConfig.type !== 'simple') {\n\t\t\t\t\t\t\t\tsubGroupConfig.values.forEach(value => {\n\t\t\t\t\t\t\t\t\tconst normalizedValue = this.normalize(value);\n\t\t\t\t\t\t\t\t\tconst valueCheckbox = document.querySelector(`input[value=\"${value}\"]`);\n\t\t\t\t\t\t\t\t\tif (valueCheckbox) {\n\t\t\t\t\t\t\t\t\t\tconst valueLabel = valueCheckbox.nextElementSibling;\n\t\t\t\t\t\t\t\t\t\tconst valueCounterSpan = valueLabel?.querySelector('.talent-pool-counter-label');\n\t\t\t\t\t\t\t\t\t\tif (valueCounterSpan) {\n\t\t\t\t\t\t\t\t\t\t\tvalueCounterSpan.textContent = ` (${filterCounts[normalizedValue] || 0})`;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (this.sidebar.updateParentGroupCounter) {\n\t\t\t\t\t\t\tthis.sidebar.updateParentGroupCounter('custom_talent_category', groupKey);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.sidebar.updateAllParentGroupCounters) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.sidebar.updateAllParentGroupCounters();\n\t\t\t}, 10);\n\t\t}\n\t}\n\tsetFilteredData(data) {\n\t\tthis.filteredData = data;\n\t\tthis.filter.filteredData = data;\n\t\tthis.updateCounter();\n\t}\n\treset(){\n\t\tthis.appendCounterToSidebar();\n\t}\n}\n", "export default class dataSort {\r\n    constructor(option, { sidebar, container }) {\r\n        this.normalize = option.normalize;\r\n        this.sidebar = option.sidebar;\r\n        this.filter = option.Filter;\r\n        this.counter = option.Counter;\r\n        this.getSplitPattern = option.getSplitPattern;\r\n        this.talentPool = option.talentPool || [];\r\n        this.filteredData = this.filter.filteredData;\r\n        this.container = container;\r\n        this.searchData = option.searchData;\r\n        this.currentSortValue = \"default\";\r\n        this.originalOrder = [...this.filter.filteredData];\r\n        this.SortingUI();\r\n        this.attachSortHandler();\r\n        this.reset();\r\n\r\n        // Update original order when data changes\r\n        this.sidebar.on(\"onChange\", () => {\r\n            this.originalOrder = [...this.filter.filteredData];\r\n            this.applySorting();\r\n        });\r\n\r\n        if (this.filter && typeof this.filter.applySearch === \"function\") {\r\n            const originalApplySearch = this.filter.applySearch.bind(this.filter);\r\n            this.filter.applySearch = (searchTerm, onComplete) => {\r\n                originalApplySearch(searchTerm, (result) => {\r\n                    this.originalOrder = [...this.filter.filteredData];\r\n                    this.applySorting();\r\n                    if (typeof onComplete === \"function\") {\r\n                        onComplete(result);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    attachSortHandler() {\r\n        const selectSort = document.getElementById(\"talent-pool-sort-select\");\r\n        if (!selectSort) {\r\n            // If the select doesn't exist yet, wait and try again\r\n            setTimeout(() => {\r\n                this.attachSortHandler();\r\n            }, 150);\r\n            return;\r\n        }\r\n\r\n        selectSort.addEventListener(\"change\", () => {\r\n            this.currentSortValue = selectSort.value;\r\n            this.applySorting();\r\n        });\r\n    }\r\n\r\n    applySorting() {\r\n        let data = [];\r\n        switch (this.currentSortValue) {\r\n            case \"asc\":\r\n                data = [...this.filter.filteredData].sort((a, b) => {\r\n                    const aSalary = parseFloat(a.properties.t_desired_salary) || 0;\r\n                    const bSalary = parseFloat(b.properties.t_desired_salary) || 0;\r\n                    return aSalary - bSalary;\r\n                });\r\n                break;\r\n            case \"desc\":\r\n                data = [...this.filter.filteredData].sort((a, b) => {\r\n                    const aSalary = parseFloat(a.properties.t_desired_salary) || 0;\r\n                    const bSalary = parseFloat(b.properties.t_desired_salary) || 0;\r\n                    return bSalary - aSalary;\r\n                });\r\n                break;\r\n            default:\r\n                // Default sorting should be ascending\r\n                // data = [...this.filter.filteredData].sort((a, b) => {\r\n                //     const aSalary = parseFloat(a.properties.t_desired_salary) || 0;\r\n                //     const bSalary = parseFloat(b.properties.t_desired_salary) || 0;\r\n                //     return aSalary - bSalary;\r\n                // });\r\n                data = [...this.originalOrder];\r\n        }\r\n        this.filter.filteredData = data;\r\n        this.filter.currentPage = 1;\r\n        this.filter.currentChunk = 0;\r\n        this.filter.render();\r\n    }\r\n\r\n    SortingUI() {\r\n        const talentPoolFilterRightContent = document.querySelector(\".talent-pool-filter-right-content\");\r\n        // If the element doesn't exist yet, wait and try again\r\n        if (!talentPoolFilterRightContent) {\r\n            setTimeout(() => {\r\n                this.SortingUI();\r\n            }, 100);\r\n            return;\r\n        }\r\n        const sortingContainer = document.createElement(\"div\");\r\n        sortingContainer.classList.add(\"talent-pool-sorting-container\");\r\n        const selectSort = document.createElement(\"select\");\r\n        selectSort.classList.add(\"talent-pool-sort-select\");\r\n        selectSort.id = \"talent-pool-sort-select\";\r\n        const sortingOptions = [\r\n            { value: \"default\", label: \"Standard\" },\r\n            { value: \"asc\", label: \"Salary Ascending\" },\r\n            { value: \"desc\", label: \"Salary Descending\" },\r\n        ];\r\n        sortingOptions.forEach((option) => {\r\n            const opt = document.createElement(\"option\");\r\n            opt.value = option.value;\r\n            opt.textContent = option.label;\r\n            selectSort.appendChild(opt);\r\n        });\r\n        sortingContainer.appendChild(selectSort);\r\n\r\n        // Append to the end instead of inserting as first child\r\n        talentPoolFilterRightContent.insertBefore(sortingContainer, talentPoolFilterRightContent.children[1]);\r\n    }\r\n    reset() {\r\n        const sortingSelect = document.querySelector('#talent-pool-sort-select');\r\n        if (sortingSelect) {\r\n            sortingSelect.value = 'default';\r\n            this.currentSortValue = \"default\";\r\n             this.applySorting();\r\n        }\r\n    }\r\n}\r\n", "import Counter from \"./counter.js\";\nimport dataSort from \"./sorting.js\";\nexport default class Filter {\n    constructor(options = {}) {\n        this.container = options.container;\n        this.sidebar = options.sidebar;\n        this.talentPool = options.talentPool || [];\n        this.storedValue = options.storedValue || {};\n        this.normalize = options.normalize;\n        this.getSplitPattern = options.getSplitPattern;\n        this.Counter = options.Counter;\n        this.dataSort = options.dataSort;\n        this.filteredData = [];\n        this.labels = options.labels || {};\n        this.formateCurrency = options.formateCurrency;\n        this.InnerPageLink = options.InnerPageLink;\n        this.itemsPerPageShow = options.itemsPerPageShow;\n        Object.assign(this, {\n            itemsPerPageShow: this.itemsPerPageShow,\n            currentPage: 1,\n        });\n        this.paginationUI();\n        this.sidebar.on(\"onChange\", (storedValue) => {\n            this.storedValue = storedValue;\n            this.applyFilters();\n        });\n        // Delay search input setup to ensure DOM is ready\n        setTimeout(() => {\n            this.setupSearchInput();\n        }, 2);\n        this.reset();\n    }\n    paginationUI() {\n        this.rightContent = this.createElement(\"div\", \"talent-pool-filter-right-content\", this.container);\n        this.loadingTextElement = this.createElement(\"div\", \"talent-pool-loading-text\", this.rightContent);\n        this.boxContainer = this.createElement(\"div\", \"talent-pool-filter-box\", this.rightContent);\n        const paginationWrapper = this.createElement(\"div\", \"pagination_contain\", this.rightContent);\n        this.paginationControls = this.createElement(\"div\", \"pagination-controls\", paginationWrapper);\n    }\n    createElement(tag, className, parent) {\n        const el = document.createElement(tag);\n        if (className) el.classList.add(className);\n        if (parent) parent.appendChild(el);\n        return el;\n    }\n    updateData(talentPool) {\n        this.talentPool = talentPool;\n        this.filteredData = talentPool;\n        this.applyFilters();\n        this.boxContainer.innerHTML = \"\";\n        \n        // Re-create search input if it was removed\n        setTimeout(() => {\n            if (!document.getElementById(\"search\")) {\n                this.setupSearchInput();\n            }\n        }, 1);\n    }\n    prepareFilterValues(filters) {\n        const prepared = {};\n        const regionFields = ['t_desired_region_1', 't_desired_region_2', 't_desired_region_3'];\n        const combinedRegionKey = 't_desired_region_1,t_desired_region_2,t_desired_region_3';\n        \n        // First, handle the combined region key if it exists\n        if (filters[combinedRegionKey] && Array.isArray(filters[combinedRegionKey])) {\n            prepared[combinedRegionKey] = [...filters[combinedRegionKey]];\n        }\n        \n        // Then process all other filters\n        for (const key in filters) {\n            if (key === 't_desired_salary' || key === combinedRegionKey) {\n                continue; \n            }\n            \n            const value = filters[key];\n            \n            // Handle regular filters\n            if (Array.isArray(value)) {\n                prepared[key] = [...value];\n            } \n            // Handle nested category objects\n            else if (typeof value === 'object' && value !== null) {\n                const flatValues = [];\n                const processNested = (obj) => {\n                    if (Array.isArray(obj)) {\n                        flatValues.push(...obj);\n                    } else if (obj && typeof obj === 'object') {\n                        Object.values(obj).forEach(processNested);\n                    }\n                };\n                processNested(value);\n                prepared[key] = flatValues;\n            } \n            // Handle regular arrays and other values\n            else {\n                prepared[key] = Array.isArray(value) \n                    ? [...value] \n                    : value ? [value] : [];\n            }\n        }\n        return prepared;\n    }\n    applySalaryFilter(data, salaryRange) {\n        if (!salaryRange || salaryRange.minValue === undefined || salaryRange.maxValue === undefined) {\n            return data;\n        }\n        return data.filter(item => {\n            const salary = Number(item.properties?.t_desired_salary);\n            return isNaN(salary) || (salary >= salaryRange.minValue && salary <= salaryRange.maxValue);\n        });\n    }\n    applyFilters() {\n        const filters = this.storedValue;\n        console.log(\"filters\",filters);\n        if (!filters || typeof filters !== 'object') {\n            this.filteredData = this.talentPool;\n            return;\n        }\n        let currentData = [...this.talentPool];\n        // Apply salary filter\n        if (this.storedValue.t_desired_salary) {\n            currentData = this.applySalaryFilter(currentData, this.storedValue.t_desired_salary);\n        }\n        const prepared = this.prepareFilterValues(filters);\n        const seen = new Set();\n        const matched = [];\n        // Check if there are any other filters to apply\n        const hasOtherFilters = Object.values(prepared).some(arr => Array.isArray(arr) && arr.length > 0);\n        if (!hasOtherFilters) {\n            // If no other filters, use the salary-filtered data\n            this.filteredData = currentData;\n        } else {\n            for (const key in prepared) {\n                const values = prepared[key].map(this.normalize);\n                values.forEach(itemValue => {\n                    currentData.forEach(talent => {\n                        let raw = '';\n                        \n                        // Handle combined region fields\n                        if (key === 't_desired_region_1,t_desired_region_2,t_desired_region_3') {\n                            const regionValues = new Set();\n                            ['t_desired_region_1', 't_desired_region_2', 't_desired_region_3'].forEach(regionKey => {\n                                const regionValue = talent.properties[regionKey];\n                                if (regionValue) {\n                                    regionValue.split(/[,\\s]+/)\n                                        .map(v => v.trim())\n                                        .filter(Boolean)\n                                        .forEach(val => regionValues.add(this.normalize(val)));\n                                }\n                            });\n                            raw = Array.from(regionValues).join(',');\n                        } else {\n                            // Handle other fields normally\n                            raw = talent.properties[key] || '';\n                        }\n                        if (!raw) return;\n                        const splitPattern = this.getSplitPattern(raw);\n                        const talentValues = [...new Set(\n                            raw.split(splitPattern)\n                                .map(val => this.normalize(val))\n                                .filter(Boolean)\n                        )];\n                        const fullValue = this.normalize(raw);\n                        let isMatch = false;\n                        // Check if this is a simple category from nested groups\n                        let isSimpleCategory = false;\n                        if (key === 'custom_talent_category' && this.sidebar?.parent?.custom_talent_category) {\n                            const customGroups = this.sidebar.parent.custom_talent_category.group;\n                            for (const groupKey in customGroups) {\n                                const groupConfig = customGroups[groupKey];\n                                if (groupConfig.type === 'group' && groupConfig.group) {\n                                    for (const subGroupKey in groupConfig.group) {\n                                        const subGroupConfig = groupConfig.group[subGroupKey];\n                                        if (subGroupConfig.type === 'simple' &&\n                                            subGroupConfig.values &&\n                                            subGroupConfig.values.some(val => this.normalize(val) === itemValue)) {\n                                            isSimpleCategory = true;\n                                            break;\n                                        }\n                                    }\n                                    if (isSimpleCategory) break;\n                                }\n                            }\n                        }\n                        if (isSimpleCategory) {\n                            if (fullValue === itemValue) {\n                                isMatch = true;\n                            } else {\n                                isMatch = talentValues.some(val => {\n                                    const cleanVal = val.replace(/_[a-z]+$/i, \"\");\n                                    return cleanVal === itemValue && !val.includes(\"_\");\n                                });\n                            }\n                        } else {\n                            isMatch = fullValue === itemValue || talentValues.includes(itemValue);\n                        }\n                        const uid = talent.id || JSON.stringify(talent.properties);\n                        if (isMatch && !seen.has(uid)) {\n                            matched.push(talent);\n                            seen.add(uid);\n                        }\n                    });\n                });\n            }\n            this.filteredData = matched.length > 0 ? matched : [];\n        }\n        this.currentPage = 1;\n        this.render();\n        console.log(this.filteredData);\n    }\n    renderCard(item) {\n        const div = document.createElement(\"div\");\n        div.classList.add(\"talent-pool-card-box\");\n        const { t_current_position, t_maincategory, t_experience_level, t_city, t_desired_salary, t_candidate_id } = item.properties;\n        const talentUrl = `${this.InnerPageLink}/${t_candidate_id}`;\n        div.innerHTML = `\n            <div class=\"talent-pool-card-inner\">\n                <div class=\"talent_box_content\">\n                    <h5><a target=\"_blank\" href=\"${talentUrl}\" class=\"position\">${t_current_position}</a></h5>\n                    <span class=\"maincategory\"><div>${t_maincategory}</div></span>\n                </div>\n                <div class=\"talent_box_inner_content\">\n                    <div class=\"talent_box_inner_left\">\n                        <span><b>Experience Level:</b> ${t_experience_level}</span>\n                        <span><b>City:</b> ${t_city}</span>\n                        <span><b>Salary:</b> ${this.formateCurrency(t_desired_salary, '\u20B9 Per Month')}</span>\n                    </div>\n                    <div class=\"talent_box_btn\">\n                       <a target=\"_blank\" class=\"btn btn:secondary\" href=\"${talentUrl}\">Learn More</a>\n                    </div>\n                </div>\n            </div>\n        `;\n        this.boxContainer.appendChild(div);\n    }\n    render() {\n        this.renderPage();\n        this.renderPaginationControls();\n    }\n    renderPage() {\n        this.boxContainer.innerHTML = \"\";\n        if (this.filteredData.length === 0) {\n            const noResult = document.createElement(\"h5\");\n            noResult.classList.add(\"no-results-message\");\n            noResult.textContent = `${this.labels.NoDataContent}`;\n            this.boxContainer.innerHTML = \"\";\n            this.boxContainer.appendChild(noResult);\n        }\n        const start = (this.currentPage - 1) * this.itemsPerPageShow;\n        const end = start + this.itemsPerPageShow;\n        this.filteredData.slice(start, end).forEach(item => this.renderCard(item));\n    }\n    getTotalPages() {\n        return Math.ceil(this.filteredData.length / this.itemsPerPageShow);\n    }\n    renderPaginationControls() {\n        const totalPages = this.getTotalPages();\n        const currentPage = this.currentPage;\n        const pagination = this.paginationControls;\n        pagination.innerHTML = \"\";\n        \n        // Hide pagination if there are no results\n        if (this.filteredData.length === 0) {\n            pagination.style.display = \"none\";\n            return;\n        }\n        // Show pagination if there are results\n        pagination.style.display = \"block\";\n        \n        const createBtn = (text, disabled, onClick, className = \"\") => {\n            const btn = this.createElement(\"button\", className, pagination);\n            btn.textContent = text;\n            btn.disabled = disabled;\n            btn.onclick = onClick;\n        };\n        // createBtn(`\u2039 ${this.labels.prevLabel}`, currentPage === 1, () => {\n        //     this.currentPage--;\n        //     this.render();\n        // });\n        if (currentPage > 1) {\n            createBtn(`\u2039 ${this.labels.prevLabel}`, false, () => {\n                this.currentPage--;\n                this.render();\n            });\n        }\n        \n        const maxVisiblePages = 5;\n        const half = Math.floor(maxVisiblePages / 2);\n        let start = Math.max(1, currentPage - half);\n        let end = Math.min(totalPages, currentPage + half);\n        if (currentPage <= half) {\n            end = Math.min(totalPages, maxVisiblePages);\n        }\n        if (currentPage + half > totalPages) {\n            start = Math.max(1, totalPages - maxVisiblePages + 1);\n            end = totalPages;\n        }\n        if (start > 1) {\n            this.createElement(\"span\", \"ellipsis\", pagination).textContent = \"\u2026\";\n        }\n        for (let i = start; i <= end; i++) {\n            const btn = this.createElement(\"button\", \"pagination-btn\", pagination);\n            btn.textContent = i;\n            if (i === currentPage) {\n                btn.classList.add(\"active\");\n            }\n            btn.onclick = () => {\n                this.currentPage = i;\n                this.render();\n            };\n        }\n        if (end < totalPages) {\n            this.createElement(\"span\", \"ellipsis\", pagination).textContent = \"\u2026\";\n        }\n        // createBtn(`${this.labels.nextLabel} \u203A`, currentPage === totalPages, () => {\n        //     this.currentPage++;\n        //     this.render();\n        // });\n        if (currentPage < totalPages) {\n            createBtn(`${this.labels.nextLabel} \u203A`, false, () => {\n                this.currentPage++;\n                this.render();\n            });\n        }\n    }\n\n    createPaginationButton(label, disabled, handler) {\n        const btn = this.createElement(\"button\", \"\", this.paginationControls);\n        btn.textContent = label;\n        btn.disabled = disabled;\n        btn.onclick = handler;\n    }\n    nextPageGroup() {\n        const totalPages = this.getTotalPages();\n        if (this.currentPage < totalPages) {\n            this.currentPage++;\n            const chunkEnd = (this.currentChunk + 1) * this.pageChunkSize;\n            if (this.currentPage > chunkEnd) this.currentChunk++;\n            this.render();\n        }\n    }\n    prevPageGroup() {\n        if (this.currentPage > 1) {\n            this.currentPage--;\n            const chunkStart = this.currentChunk * this.pageChunkSize + 1;\n            if (this.currentPage < chunkStart) this.currentChunk--;\n            this.render();\n        }\n    }\n    applySearch(searchTerm, onComplete) {\n        const normalizedSearch = this.normalize(searchTerm);\n        const keys = ['t_procedure_txt', 'custom_talent_category', 't_experience_level', 't_desired_region_1', 't_desired_region_2', 't_desired_region_3'];\n        if (!normalizedSearch) {\n            this.filteredData = this.talentPool;\n        } \n        // else {\n        //     this.filteredData = this.talentPool.filter(talent => {\n        //         return keys.some(key => {\n        //             const raw = talent.properties[key];\n        //             if (!raw) return false;\n        //             const splitPattern = this.getSplitPattern(raw);\n        //             const values = raw.split(splitPattern).map(val => this.normalize(val));\n        //             return values.some(val => val.includes(normalizedSearch));\n        //         });\n        //     });\n        // }\n        else {\n            this.filteredData = this.talentPool.filter(talent => {\n                return keys.some(key => {\n                    let raw = talent.properties[key];\n                    // For region fields, combine all region values\n                    if (key.startsWith('t_desired_region_')) {\n                        const regionValues = [];\n                        for (let i = 1; i <= 3; i++) {\n                            const regionKey = `t_desired_region_${i}`;\n                            if (talent.properties[regionKey]) {\n                                regionValues.push(talent.properties[regionKey]);\n                            }\n                        }\n                        raw = regionValues.join(',');\n                    }\n                    if (!raw) return false;\n                    const splitPattern = this.getSplitPattern(raw);\n                    const values = raw.split(splitPattern).map(val => this.normalize(val));\n                    return values.some(val => val.includes(normalizedSearch));\n                });\n            });\n        }\n        this.currentPage = 1;\n        this.currentChunk = 0;\n        this.render();\n        if (this.Counter) {\n            this.Counter.updateCounter();\n        }\n        if (typeof onComplete === \"function\") {\n            onComplete(this.filteredData);\n        }\n    }\n    setupSearchInput() {\n        function debounce(func, delay) {\n            let timeout;\n            return function (...args) {\n                clearTimeout(timeout);\n                timeout = setTimeout(() => func.apply(this, args), delay);\n            };\n        }\n        const searchInput = document.getElementById(\"search\");\n        if (!searchInput) {\n            console.error(\"Search input not found\");\n            return;\n        }\n        const handleSearch = debounce((e) => {\n            const searchTerm = e.target.value.trim();\n            const checkboxes = document.querySelectorAll('.talent-pool-filter-sidebar input[type=\"checkbox\"]');\n            checkboxes.forEach(checkbox => {\n                checkbox.checked = false;\n            });\n            //remove class indeterminate when search is applied\n            const indeterminateCheckboxes = document.querySelectorAll('.talent-pool-filter-sidebar input[type=\"checkbox\"].indeterminate');\n            indeterminateCheckboxes.forEach(checkbox => {\n                checkbox.classList.remove(\"indeterminate\");\n                checkbox.indeterminate = false;\n            });\n            this.applySearch(searchTerm);\n        }, 3);\n        searchInput.addEventListener(\"input\", handleSearch);\n        const filterSidebar = document.querySelector(\".talent-pool-filter-sidebar\");\n        filterSidebar.addEventListener(\"change\", (e) => {\n            if (e.target.type === \"checkbox\") {\n                searchInput.value = \"\";\n            }\n        });\n        const addDataButton = document.getElementById(\"add-data\");\n        // addDataButton.addEventListener(\"click\", () => {\n        //     searchInput.value = \"\"; // Clear search input\n        // });\n    }\n    reset(){\n        this.updateData(this.talentPool);\n        this.render();\n         const searchInput = document.getElementById(\"search\");\n         searchInput.value = \"\";\n    }\n}", "export default class RangeSlider {\r\n    constructor(options) {\r\n        this.options = options;\r\n        this.reset();\r\n    }\r\n    on(event, callback) {\r\n        if (event === \"change\") {\r\n            this.changeCallback = callback;\r\n        }\r\n    }\r\n    emit(event, data) {\r\n        if (event === \"change\" && this.changeCallback) {\r\n            this.changeCallback(data);\r\n        }\r\n    }\r\n    getValue() {\r\n        return {\r\n            minValue: this.minValue,\r\n            maxValue: this.maxValue\r\n        };\r\n    }\r\n    progressUpdate() {\r\n        // const start = `${(this.minValue - this.options.min) / (this.options.max - this.options.min) * 100}%`;\r\n        // const end = `${(this.options.max - this.maxValue) / (this.options.max - this.options.min) * 100}%`;\r\n        // console.log(\"start\", start, \"end\", end);\r\n        // this.progress.style.left = start;\r\n        // this.progress.style.right = end;\r\n\r\n\r\n        // this.tooltipMin.style.left = start;\r\n        // this.tooltipMax.style.right = end;\r\n\r\n        // const formattedMinValue = this.options.formateCurrency ? this.options.formateCurrency(this.minValue) : `${this.minValue}\u20B9`;\r\n        // const formattedMaxValue = this.options.formateCurrency ? this.options.formateCurrency(this.maxValue) : `${this.maxValue}\u20B9`;\r\n\r\n        // this.tooltipMin.innerText = formattedMinValue;\r\n        // this.tooltipMax.innerText = formattedMaxValue;\r\n\r\n        const range = this.options.max - this.options.min;\r\n        const startPercent = ((this.minValue - this.options.min) / range) * 100;\r\n        const endPercent = ((this.maxValue - this.options.min) / range) * 100;\r\n        // Update progress bar\r\n        this.progress.style.left = `${startPercent}%`;\r\n        this.progress.style.right = `${100 - endPercent}%`;\r\n        // Update tooltips\r\n        this.tooltipMin.style.left = `${startPercent}%`;\r\n        this.tooltipMax.style.left = `${endPercent}%`;\r\n        const formattedMinValue = this.options.formateCurrency ? this.options.formateCurrency(this.minValue) : `${this.minValue}\u20B9`;\r\n        const formattedMaxValue = this.options.formateCurrency ? this.options.formateCurrency(this.maxValue) : `${this.maxValue}\u20B9`;\r\n        this.tooltipMin.innerText = formattedMinValue;\r\n        this.tooltipMax.innerText = formattedMaxValue;\r\n        this.tooltipMin.style.transform = 'translateX(-50%)';\r\n        this.tooltipMax.style.transform = 'translateX(-50%)';\r\n        // overlap\r\n        const overlapThreshold = 5;\r\n        const distance = Math.abs(startPercent - endPercent);\r\n        if (distance <= overlapThreshold) {\r\n            this.tooltipMin.style.top = \"-60px\";\r\n            this.tooltipMax.style.top = \"-35px\";\r\n        } else {\r\n            this.tooltipMin.style.top = \"-35px\";\r\n            this.tooltipMax.style.top = \"-35px\";\r\n        }\r\n        // Optional z-index swap\r\n        if (this.minValue > this.maxValue) {\r\n            this.tooltipMin.style.zIndex = 2;\r\n            this.tooltipMax.style.zIndex = 1;\r\n        } else {\r\n            this.tooltipMin.style.zIndex = 1;\r\n            this.tooltipMax.style.zIndex = 2;\r\n        }\r\n    }\r\n    initialize() {\r\n        const RangeSliderTitle = document.createElement(\"h3\");\r\n        RangeSliderTitle.classList.add(\"range-title\");\r\n        RangeSliderTitle.innerHTML = \"Salary Expectations / Fee\";\r\n        const container = document.createElement(\"div\");\r\n        container.classList.add(\"range-input\");\r\n        /* Slider Container */\r\n        const sliderContainer = document.createElement(\"div\");\r\n        sliderContainer.classList.add(\"slider\");\r\n        const progress = document.createElement(\"div\");\r\n        progress.classList.add(\"progress\");\r\n        this.minValue = this.options.defaultMin;\r\n        this.maxValue = this.options.defaultMax;\r\n        sliderContainer.appendChild(progress);\r\n        container.appendChild(sliderContainer);\r\n        this.progress = progress;\r\n        /* range label  */\r\n        const rangeLabel = document.createElement(\"div\");\r\n        rangeLabel.classList.add(\"range-label\");\r\n        const formattedMin = this.options.formateCurrency ? this.options.formateCurrency(this.options.min) : `${this.options.min}\u20B9`;\r\n        const formattedMax = this.options.formateCurrency ? this.options.formateCurrency(this.options.max) : `${this.options.max}\u20B9`;\r\n        rangeLabel.innerHTML = `<span class=\"min\">${formattedMin}</span> - <span class=\"max\">${formattedMax}</span>`;\r\n        container.appendChild(rangeLabel);\r\n        /* tooltip wrapper */\r\n        const tooltipWrapper = document.createElement(\"div\");\r\n        tooltipWrapper.classList.add(\"tooltip-wrapper\");\r\n        const tooltipMin = document.createElement(\"span\");\r\n        tooltipMin.classList.add(\"tooltip-min\");\r\n        const formattedDefaultMin = this.options.formateCurrency ? this.options.formateCurrency(this.options.defaultMin) : `${this.options.defaultMin}\u20B9`;\r\n        tooltipMin.innerText = formattedDefaultMin;\r\n        tooltipWrapper.appendChild(tooltipMin);\r\n        this.tooltipMin = tooltipMin;\r\n        const tooltipMax = document.createElement(\"span\");\r\n        tooltipMax.classList.add(\"tooltip-max\");\r\n        const formattedDefaultMax = this.options.formateCurrency ? this.options.formateCurrency(this.options.defaultMax) : `${this.options.defaultMax}\u20B9`;\r\n        tooltipMax.innerText = formattedDefaultMax;\r\n        tooltipWrapper.appendChild(tooltipMax);\r\n        this.tooltipMax = tooltipMax;\r\n        container.appendChild(tooltipWrapper);\r\n        /* MinMax Inputs */\r\n        const minInput = document.createElement(\"input\");\r\n        minInput.type = \"range\";\r\n        minInput.classList.add(\"range-min\");\r\n        minInput.min = this.options.min;\r\n        minInput.max = this.options.max;\r\n        minInput.value = this.options.defaultMin;\r\n        container.appendChild(minInput);\r\n        this.minInput = minInput;\r\n        minInput.addEventListener(\"input\", (e) => {\r\n            this.onChange(\"min\", e);\r\n        });\r\n        minInput.addEventListener(\"change\", (e) => {\r\n            this.emit(\"change\", this.getValue());\r\n        });\r\n        const maxInput = document.createElement(\"input\");\r\n        maxInput.type = \"range\";\r\n        maxInput.classList.add(\"range-max\");\r\n        maxInput.min = this.options.min;\r\n        maxInput.max = this.options.max;\r\n        maxInput.value = this.options.defaultMax;\r\n        container.appendChild(maxInput);\r\n        this.maxInput = maxInput;\r\n        maxInput.addEventListener(\"input\", (e) => {\r\n            this.onChange(\"max\", e);\r\n        });\r\n        maxInput.addEventListener(\"change\", (e) => {\r\n            this.emit(\"change\", this.getValue());\r\n        });\r\n\r\n        const RangeSliderWrapper = document.createElement(\"div\");\r\n        RangeSliderWrapper.classList.add(\"range-slider-wrapper\");\r\n        RangeSliderWrapper.appendChild(RangeSliderTitle);\r\n        RangeSliderWrapper.appendChild(container);\r\n        this.container = container;\r\n        this.progressUpdate();\r\n        this.emit(\"change\", this.getValue());\r\n        return RangeSliderWrapper;\r\n    }\r\n    onChange(type, event) {\r\n        const step = this.options.step || 1;\r\n        if (event.target.value % step !== 0) {\r\n            event.target.value = Math.round(event.target.value / step) * step;\r\n        }\r\n        if (type === \"min\") {\r\n            const newValue = parseInt(event.target.value, 10);\r\n            if ((newValue + this.options.gap) <= this.maxValue) {\r\n                this.minValue = newValue;\r\n                this.progressUpdate();\r\n            } else {\r\n                event.target.value = this.minValue;\r\n            }\r\n        } else if (type === \"max\") {\r\n            const newValue = parseInt(event.target.value, 10);\r\n            if ((newValue - this.options.gap) >= this.minValue) {\r\n                this.maxValue = newValue;\r\n                this.progressUpdate();\r\n            } else {\r\n                event.target.value = this.maxValue;\r\n            }\r\n        }\r\n    }\r\n    reset() {\r\n        this.minValue = this.options.defaultMin ?? this.options.min;\r\n        this.maxValue = this.options.defaultMax ?? this.options.max;\r\n        if (this.minInput) this.minInput.value = this.minValue;\r\n        if (this.maxInput) this.maxInput.value = this.maxValue;\r\n        const format = this.options.formateCurrency || (val => `${val}\u20B9`);\r\n        if (this.tooltipMin) this.tooltipMin.innerText = format(this.minValue);\r\n        if (this.tooltipMax) this.tooltipMax.innerText = format(this.maxValue);\r\n        // Only call progressUpdate if all required elements are available\r\n        if (this.progress && this.tooltipMin && this.tooltipMax) {\r\n            this.progressUpdate();\r\n        }\r\n        this.emit(\"change\", this.getValue());\r\n    }\r\n}", "import RangeSlider from \"./range_slider.js\";\r\nlet isResettingGroups = false;\r\n\r\nexport function popupButton(Sidebar) {\r\n    const popupButton = document.createElement(\"button\");\r\n    popupButton.classList.add(\"talent-pool-popup-button\");\r\n    popupButton.textContent = Sidebar.popupTitle || \"Subscribe our TalentPool\";\r\n    const body = document.body;\r\n\r\n    console.log(\"Sidebar\", Sidebar.popupTitle);\r\n      \r\n    function isSubgroupValue(value, Sidebar) {\r\n        const groupMap = Sidebar.parent?.custom_talent_category?.group || {};\r\n        return Object.values(groupMap).some(group => {\r\n            if (group.group) {\r\n                return Object.values(group.group).some(subgroup => subgroup.values?.includes(value));\r\n            }\r\n            return false;\r\n        });\r\n    }\r\n\r\n    function uncheckOtherGroups(currentGroup, PopupValueStored) {\r\n        isResettingGroups = true;\r\n        const container = currentGroup.closest(\".talent-pool-popup-inner-wrapper\") ||\r\n            currentGroup.closest(\".talent-pool-sidebar\");\r\n        const allGroups = container?.querySelectorAll('.talent-pool-checkboxes[data-key=\"custom_talent_category\"]') || [];\r\n        const currentGroupKey = currentGroup.getAttribute(\"data-group-key\");\r\n        const key = \"custom_talent_category\";\r\n        allGroups.forEach(group => {\r\n            const groupKey = group.getAttribute(\"data-group-key\");\r\n            if (groupKey === currentGroupKey) return;\r\n            if (group.classList.contains('popup-transformed')) {\r\n                const mainCheckbox = group.querySelector('.talent-pool-checkbox-input');\r\n                if (mainCheckbox) {\r\n                    mainCheckbox.checked = false;\r\n                    mainCheckbox.indeterminate = false;\r\n                    mainCheckbox.classList.remove('indeterminate');\r\n                }\r\n                const subgroupCheckboxes = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]');\r\n                subgroupCheckboxes.forEach(cb => cb.checked = false);\r\n            } else {\r\n                const mainCheckbox = group.querySelector('.talent-pool-checkbox-input');\r\n                if (mainCheckbox) {\r\n                    mainCheckbox.checked = false;\r\n                    mainCheckbox.indeterminate = false;\r\n                    mainCheckbox.classList.remove('indeterminate');\r\n                }\r\n                const childCheckboxes = group.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type=\"checkbox\"]');\r\n                childCheckboxes.forEach(cb => cb.checked = false);\r\n            }\r\n            if (PopupValueStored[key]) {\r\n                PopupValueStored[key][groupKey] = [];\r\n            }\r\n        });\r\n        // console.log(\"PopupValueStored\", PopupValueStored);\r\n        const event5 = new CustomEvent(\"PopupValueStored\", { detail: PopupValueStored });\r\n        document.dispatchEvent(event5);\r\n        setTimeout(() => {\r\n            isResettingGroups = false;\r\n        }, 0);\r\n    }\r\n\r\n    popupButton.addEventListener(\"click\", () => {\r\n        body.classList.add(\"open-popup\");\r\n        const popupContainer = document.createElement(\"div\");\r\n        popupContainer.classList.add(\"talent-pool-popup-container\");\r\n        popupContainer.classList.add(\"popup\");\r\n        const popupInnerWrapper = document.createElement(\"div\");\r\n        popupInnerWrapper.classList.add(\"talent-pool-popup-inner-wrapper\");\r\n        popupContainer.appendChild(popupInnerWrapper);\r\n        const clonedSidebar = Sidebar.sidebar.cloneNode(true);\r\n\r\n       //close button\r\n        const closeButton = Sidebar.parent.createCloseButton();\r\n        popupInnerWrapper.appendChild(closeButton);\r\n\r\n        //title counter remove \r\n        const talentPoolContain = clonedSidebar.querySelector(\".talent-pool-contain\");\r\n        if (talentPoolContain) {\r\n            talentPoolContain.remove();\r\n        }\r\n        // counter label remove\r\n        const CounterLabel = clonedSidebar.querySelectorAll(\".talent-pool-counter-label\");\r\n        CounterLabel.forEach(label => {\r\n            label.remove();\r\n        });\r\n        // remove .range-input\r\n        const oldTitle = clonedSidebar.querySelector(\".range-title\");\r\n        if (oldTitle) {\r\n            oldTitle.remove();\r\n        }\r\n        const rangeInputs = clonedSidebar.querySelectorAll(\".range-input , .talent-pool-popup-button\");\r\n        rangeInputs.forEach(input => {\r\n            input.remove();\r\n        });\r\n        //remove search\r\n        const searchInput = clonedSidebar.querySelector(\".cobalt_search\");\r\n        if (searchInput) {\r\n            searchInput.remove();\r\n        }\r\n        const PopupValueStored = {};\r\n        function ensurePopupValue(key, groupKey) {\r\n            PopupValueStored[key] = PopupValueStored[key] || {};\r\n            PopupValueStored[key][groupKey] = PopupValueStored[key][groupKey] || [];\r\n        }\r\n        const checkBoxGroup = clonedSidebar.querySelectorAll(\".talent-pool-checkboxes\");\r\n        const popupCustomGroups = clonedSidebar.querySelectorAll('.talent-pool-checkboxes[data-key=\"custom_talent_category\"]');\r\n        // Transform nested groups to show only subgroups\r\n        const nestedGroups = clonedSidebar.querySelectorAll('.talent-pool-nested-group');\r\n        nestedGroups.forEach(nestedGroup => {\r\n            const key = nestedGroup.getAttribute(\"data-key\");\r\n            const groupKey = nestedGroup.getAttribute(\"data-group-key\");\r\n            const mainCheckbox = nestedGroup.querySelector('.talent-pool-checkbox-input');\r\n            const mainLabel = nestedGroup.querySelector('label');\r\n            if (mainCheckbox && mainCheckbox.id) {\r\n            mainCheckbox.id = `popup-${mainCheckbox.id}`;\r\n            }\r\n            if (mainLabel && mainLabel.htmlFor) {\r\n            mainLabel.htmlFor = `popup-${mainLabel.htmlFor}`;\r\n            }\r\n            // dropdown button remove\r\n            const subgroupDropdownButtons = nestedGroup.querySelectorAll('.talent-pool-nested-subgroup .talent-pool-dropdown-button');\r\n            subgroupDropdownButtons.forEach(button => {\r\n                button.remove();\r\n            });\r\n            const subgroupDropdownContainers = nestedGroup.querySelectorAll('.talent-pool-nested-subgroup .dropdown-container');\r\n            subgroupDropdownContainers.forEach(container => {\r\n                container.remove();\r\n            });\r\n            const existingSubgroups = nestedGroup.querySelectorAll('.talent-pool-nested-subgroup');\r\n            existingSubgroups.forEach(subgroup => {\r\n                subgroup.remove();\r\n            });\r\n            const newCheckboxWrapper = document.createElement(\"div\");\r\n            newCheckboxWrapper.classList.add(\"talent-pool-checkbox-group-wrapper\", \"dropdown-container\", \"nested\", \"popup-subgroups\");\r\n            if (Sidebar.parent && Sidebar.parent.custom_talent_category && Sidebar.parent.custom_talent_category.group[groupKey]) {\r\n                const groupConfig = Sidebar.parent.custom_talent_category.group[groupKey];\r\n                if (groupConfig.type === 'group' && groupConfig.group) {\r\n                    Object.keys(groupConfig.group).forEach(subGroupKey => {\r\n                        const subGroupConfig = groupConfig.group[subGroupKey];\r\n                        const subGroupDiv = document.createElement(\"div\");\r\n                        subGroupDiv.classList.add(\"talent-pool-checkbox\");\r\n                        subGroupDiv.setAttribute(\"data-subgroup-key\", subGroupKey);\r\n                        const subGroupInput = document.createElement(\"input\");\r\n                        subGroupInput.type = \"checkbox\";\r\n                        subGroupInput.value = subGroupConfig.name || subGroupKey;\r\n                        subGroupInput.id = `popup-talent-pool-${key}-${groupKey}-${subGroupKey}`;\r\n                        const subGroupLabel = document.createElement(\"label\");\r\n                        subGroupLabel.htmlFor = subGroupInput.id;\r\n                        subGroupLabel.textContent = subGroupConfig.name || subGroupKey;\r\n                        subGroupDiv.appendChild(subGroupInput);\r\n                        subGroupDiv.appendChild(subGroupLabel);\r\n                        newCheckboxWrapper.appendChild(subGroupDiv);\r\n                    });\r\n                }\r\n            }\r\n            //Keep the main group checkbox visible\r\n            if (mainCheckbox) {\r\n                mainCheckbox.style.display = 'block';\r\n            }\r\n            if (mainLabel) {\r\n                mainLabel.style.display = 'block';\r\n            }\r\n            // Add the new checkbox wrapper\r\n            nestedGroup.appendChild(newCheckboxWrapper);\r\n            //  Add event handler for main group checkbox to control all subgroups\r\n            if (mainCheckbox) {\r\n                mainCheckbox.addEventListener('change', () => {\r\n                    if (isResettingGroups) return;\r\n                    const isChecked = mainCheckbox.checked;\r\n                    uncheckOtherGroups(nestedGroup, PopupValueStored);\r\n                    const subGroupCheckboxes = newCheckboxWrapper.querySelectorAll('input[type=\"checkbox\"]');\r\n                    mainCheckbox.classList.remove('indeterminate');\r\n                    mainCheckbox.indeterminate = false;\r\n                    PopupValueStored[key] = PopupValueStored[key] || {};\r\n                    PopupValueStored[key][groupKey] = PopupValueStored[key][groupKey] || [];\r\n                    PopupValueStored[key][groupKey] = [];\r\n                    subGroupCheckboxes.forEach(subCheckbox => {\r\n                        subCheckbox.checked = isChecked;\r\n                        const subGroupKey = subCheckbox.closest('.talent-pool-checkbox')?.getAttribute('data-subgroup-key');\r\n                        if (isChecked) {\r\n                            let subGroupDisplayName = subGroupKey;\r\n                            if (Sidebar.parent && Sidebar.parent.custom_talent_category && Sidebar.parent.custom_talent_category.group[groupKey]) {\r\n                                const groupConfig = Sidebar.parent.custom_talent_category.group[groupKey];\r\n                                const subGroupConfig = groupConfig.group[subGroupKey];\r\n                                if (subGroupConfig && subGroupConfig.name) {\r\n                                    subGroupDisplayName = subGroupConfig.name;\r\n                                }\r\n                            }\r\n                            PopupValueStored[key][groupKey].push(subGroupDisplayName);\r\n                        }\r\n                    });\r\n                   // console.log(\"PopupValueStored\", PopupValueStored);\r\n                   \r\n                });\r\n            }\r\n            nestedGroup.classList.add('popup-transformed');\r\n        });\r\n        /* init rangeslider */\r\n        const rangeSlider = new RangeSlider({\r\n            ...Sidebar.rangeSliderOption,\r\n            formateCurrency: Sidebar.parent.formateCurrency.bind(Sidebar.parent)\r\n        });\r\n        const element = rangeSlider.initialize();\r\n        clonedSidebar.appendChild(element);\r\n        // console.log(\"clonedSidebar\", clonedSidebar);\r\n        const initialData = rangeSlider.getValue();\r\n        PopupValueStored.t_desired_salary = { minValue: initialData.minValue, maxValue: initialData.maxValue };\r\n        rangeSlider.on(\"change\", (data) => {\r\n            PopupValueStored.t_desired_salary = { minValue: data.minValue, maxValue: data.maxValue };\r\n            \r\n            const event1 = new CustomEvent(\"PopupValueStored\", {detail: PopupValueStored});\r\n            document.dispatchEvent(event1);\r\n            //test123\r\n\r\n        });\r\n        const transformedNestedGroups = clonedSidebar.querySelectorAll('.talent-pool-nested-group.popup-transformed');\r\n        transformedNestedGroups.forEach(group => {\r\n            const key = group.getAttribute(\"data-key\");\r\n            const groupKey = group.getAttribute(\"data-group-key\");\r\n            const subGroupCheckboxes = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]');\r\n            ensurePopupValue(key, groupKey);\r\n            const originalNestedGroup = Sidebar.sidebar.querySelector(`.talent-pool-nested-group[data-key=\"${key}\"][data-group-key=\"${groupKey}\"]`);\r\n            if (originalNestedGroup) {\r\n                const originalDropdownContainer = originalNestedGroup.querySelector('.dropdown-container');\r\n                const subgroupsWithSelection = new Set();\r\n                const groupConfig = Sidebar.parent?.custom_talent_category?.group?.[groupKey];\r\n                if (groupConfig?.type === 'group' && groupConfig.group) {\r\n                    Object.keys(groupConfig.group).forEach(subGroupKey => {\r\n                        const subGroupConfig = groupConfig.group[subGroupKey];\r\n                        let isChecked = false;\r\n                        if (subGroupConfig.type === \"simple\") {\r\n                            const expectedValue = subGroupConfig.values?.[0];\r\n                            const selector = `input[type=\"checkbox\"][value=\"${expectedValue}\"]`;\r\n                            const simpleCheckbox = originalNestedGroup.querySelector(selector);\r\n\r\n                            if (simpleCheckbox?.checked) {\r\n                                isChecked = true;\r\n                            }\r\n                        } else {\r\n                            const subGroupContainers = originalDropdownContainer?.querySelectorAll(`[data-subgroup-key=\"${subGroupKey}\"]`) || [];\r\n                            subGroupContainers.forEach(container => {\r\n                                const subGroupValues = subGroupConfig.values || [];\r\n                                const checkedValues = Array.from(container.querySelectorAll('input[type=\"checkbox\"]:checked')).map(cb => cb.value);\r\n                                if (checkedValues.some(val => subGroupValues.includes(val))) {\r\n                                    isChecked = true;\r\n                                }\r\n                            });\r\n                        }\r\n                        if (isChecked) {\r\n                            subgroupsWithSelection.add(subGroupKey);\r\n                        }\r\n                    });\r\n                }\r\n                subgroupsWithSelection.forEach(subGroupKey => {\r\n                    const subGroupConfig = Sidebar.parent?.custom_talent_category?.group?.[groupKey]?.group?.[subGroupKey];\r\n                    const subGroupDisplayName = subGroupConfig?.name || subGroupKey;\r\n                    if (!PopupValueStored[key][groupKey].includes(subGroupDisplayName)) {\r\n                        PopupValueStored[key][groupKey].push(subGroupDisplayName);\r\n                    }\r\n                    const popupSubCheckbox = group.querySelector(`[data-subgroup-key=\"${subGroupKey}\"] input[type=\"checkbox\"]`);\r\n                    if (popupSubCheckbox) {\r\n                        popupSubCheckbox.checked = true;\r\n                    }\r\n                });\r\n                // Set indeterminate/checked state on main checkbox\r\n                const mainCheckbox = group.querySelector('.talent-pool-checkbox-input');\r\n                if (mainCheckbox) {\r\n                    const allSub = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]');\r\n                    const checkedSub = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]:checked');\r\n                    mainCheckbox.checked = checkedSub.length === allSub.length && checkedSub.length > 0;\r\n                    mainCheckbox.indeterminate = checkedSub.length > 0 && checkedSub.length < allSub.length;\r\n                }\r\n            }\r\n            // Update the subGroupCheckboxes event listener in transformedNestedGroups\r\n            subGroupCheckboxes.forEach(subGroupCheckbox => {\r\n                subGroupCheckbox.addEventListener('change', () => {\r\n                    const subGroupKey = subGroupCheckbox.closest('.talent-pool-checkbox')?.getAttribute('data-subgroup-key');\r\n                    const subGroupConfig = Sidebar.parent?.custom_talent_category?.group?.[groupKey]?.group?.[subGroupKey];\r\n                    const subGroupDisplayName = subGroupConfig?.name || subGroupKey;\r\n                    ensurePopupValue(key, groupKey);\r\n                    // Add this check to uncheck other groups when any subgroup is checked\r\n                    if (subGroupCheckbox.checked) {\r\n                        uncheckOtherGroups(group, PopupValueStored);\r\n                    }\r\n                    const index = PopupValueStored[key][groupKey].indexOf(subGroupDisplayName);\r\n                    if (subGroupCheckbox.checked) {\r\n                        if (index === -1) {\r\n                            PopupValueStored[key][groupKey].push(subGroupDisplayName);\r\n                        }\r\n                    } else {\r\n                        if (index > -1) {\r\n                            PopupValueStored[key][groupKey].splice(index, 1);\r\n                        }\r\n                    }\r\n                    const allSub = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]');\r\n                    const checkedSub = group.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]:checked');\r\n                    const mainCheckbox = group.querySelector('.talent-pool-checkbox-input');\r\n                    if (mainCheckbox) {\r\n                        // Remove any existing indeterminate class first\r\n                        mainCheckbox.classList.remove('indeterminate');\r\n                        if (checkedSub.length === 0) {\r\n                            // No subgroups checked\r\n                            mainCheckbox.checked = false;\r\n                            mainCheckbox.indeterminate = false;\r\n                        } else if (checkedSub.length === allSub.length) {\r\n                            // All subgroups checked\r\n                            mainCheckbox.checked = true;\r\n                            mainCheckbox.indeterminate = false;\r\n                        } else {\r\n                            // Some subgroups checked - ADD CLASS HERE\r\n                            mainCheckbox.checked = false;\r\n                            mainCheckbox.indeterminate = true;\r\n                            mainCheckbox.classList.add('indeterminate'); // ADD THIS LINE\r\n                        }\r\n                    }\r\n                   // console.log(\"PopupValueStored\", PopupValueStored);\r\n                });\r\n            });\r\n        });\r\n        const nonNestedCustomGroups = Array.from(popupCustomGroups).filter(group => !group.classList.contains('popup-transformed'));\r\n        nonNestedCustomGroups.forEach(group => {\r\n            const parentCheckbox = group.querySelector('.talent-pool-checkbox-input');\r\n            const childCheckboxes = group.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type=\"checkbox\"]');\r\n            const key = group.getAttribute(\"data-key\");\r\n            const groupKey = group.getAttribute(\"data-group-key\");\r\n            transformedNestedGroups.forEach(nestedGroup => {\r\n                const nestedKey = nestedGroup.getAttribute(\"data-key\");\r\n                const nestedGroupKey = nestedGroup.getAttribute(\"data-group-key\");\r\n                const nestedCheckboxes = nestedGroup.querySelectorAll('.popup-subgroups input[type=\"checkbox\"]');\r\n                nestedCheckboxes.forEach(cb => cb.checked = false);\r\n                if (PopupValueStored[nestedKey] && PopupValueStored[nestedKey][nestedGroupKey]) {\r\n                    Object.keys(PopupValueStored[nestedKey][nestedGroupKey]).forEach(subKey => {\r\n                        PopupValueStored[nestedKey][nestedGroupKey][subKey] = [];\r\n                    });\r\n                }\r\n            });\r\n            parentCheckbox.addEventListener('change', () => {\r\n                if (isResettingGroups) return;\r\n                const checked = parentCheckbox.checked;\r\n                uncheckOtherGroups(group, PopupValueStored);\r\n                PopupValueStored[key] = PopupValueStored[key] || {};\r\n                PopupValueStored[key][groupKey] = [];\r\n                childCheckboxes.forEach(child => {\r\n                    child.checked = checked;\r\n                    if (checked && child.value !== \"on\") {\r\n                        PopupValueStored[key][groupKey].push(child.value);\r\n                    }\r\n                });\r\n            });\r\n            childCheckboxes.forEach(child => {\r\n                child.addEventListener('change', () => {\r\n                    if (isResettingGroups) return;\r\n                    const anyChecked = Array.from(childCheckboxes).some(checkbox => checkbox.checked);\r\n                    const valuesChecked = Array.from(childCheckboxes)\r\n                        .filter(checkbox => checkbox.checked && checkbox.value !== \"on\")\r\n                        .map(checkbox => checkbox.value);\r\n                    if (anyChecked) {\r\n                        uncheckOtherGroups(group, PopupValueStored);\r\n                    }\r\n                    PopupValueStored[key] = PopupValueStored[key] || {};\r\n                    PopupValueStored[key][groupKey] = valuesChecked;\r\n                    if (anyChecked) {\r\n                        parentCheckbox.checked = true;\r\n                    } else {\r\n                        parentCheckbox.checked = false;\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        const nonNestedCheckBoxGroups = Array.from(checkBoxGroup).filter(group => {\r\n            if (group.classList.contains('popup-transformed')) {\r\n                return false;\r\n            }\r\n            if (group.classList.contains('talent-pool-nested-group')) {\r\n                return false;\r\n            }\r\n            if (group.getAttribute(\"data-key\") === \"custom_talent_category\") {\r\n                const parentNestedGroup = group.closest('.talent-pool-nested-group');\r\n                if (parentNestedGroup) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n        nonNestedCheckBoxGroups.forEach(group => {\r\n            const key = group.getAttribute(\"data-key\");\r\n            const groupKey = group.getAttribute(\"data-group-key\");\r\n            const indeterminateCheckbox = group.querySelector('.indeterminate');\r\n            if (indeterminateCheckbox) {\r\n                indeterminateCheckbox.classList.remove(\"indeterminate\");\r\n                indeterminateCheckbox.indeterminate = false;\r\n            }\r\n            if (key === \"custom_talent_category\") {\r\n                PopupValueStored[key] = PopupValueStored[key] || {};\r\n                PopupValueStored[key][groupKey] = PopupValueStored[key][groupKey] || [];\r\n            } else {\r\n                PopupValueStored[key] = [];\r\n            }\r\n            const inputs = group.querySelectorAll(\"input[type='checkbox']\");\r\n            inputs.forEach(input => {\r\n                if (input.id) {\r\n                    input.id = `popup-${input.id}`;\r\n                    const isInNestedGroup = input.closest('.talent-pool-nested-group');\r\n                    const isSubgroupInput = input.closest('.popup-subgroups');\r\n                    const isCategoryLevelInput = input.classList.contains('talent-pool-checkbox-input') &&\r\n                        input.closest('.talent-pool-nested-group');\r\n                    const isMainCategoryCheckbox = input.classList.contains('talent-pool-checkbox-input');\r\n                    if (input.checked && !isInNestedGroup && !isCategoryLevelInput && !isMainCategoryCheckbox) {\r\n                        if (key === \"custom_talent_category\") {\r\n                            const parentGroup = input.closest('.talent-pool-checkboxes');\r\n                            if (parentGroup && !parentGroup.classList.contains('popup-transformed')) {\r\n                                const allGroups = Array.from(group.parentNode.querySelectorAll('.talent-pool-checkboxes[data-key=\"custom_talent_category\"]'));\r\n                                const currentIndex = allGroups.indexOf(group);\r\n                                allGroups.forEach((otherGroup, index) => {\r\n                                    if (index < currentIndex) {\r\n                                        const otherParent = otherGroup.querySelector('.talent-pool-checkbox-input');\r\n                                        const otherChildren = otherGroup.querySelectorAll('.talent-pool-checkbox-group-wrapper input[type=\"checkbox\"]');\r\n                                        if (otherParent) otherParent.checked = false;\r\n                                        otherChildren.forEach(cb => cb.checked = false);\r\n                                        const otherGroupKey = otherGroup.getAttribute(\"data-group-key\");\r\n                                        if (PopupValueStored[key] && PopupValueStored[key][otherGroupKey]) {\r\n                                            PopupValueStored[key][otherGroupKey] = [];\r\n                                        }\r\n                                    }\r\n                                });\r\n                                const groupCheckboxChecked = group.querySelector('.talent-pool-checkbox-input');\r\n                                if (groupCheckboxChecked && !groupCheckboxChecked.checked) {\r\n                                    groupCheckboxChecked.checked = true;\r\n                                }\r\n                                PopupValueStored[key][groupKey] = PopupValueStored[key][groupKey] || [];\r\n                                if (\r\n                                    input.value !== \"on\" &&\r\n                                    input.value !== groupKey &&\r\n                                    !isSubgroupValue(input.value, Sidebar) &&\r\n                                    !PopupValueStored[key][groupKey].includes(input.value)\r\n                                ) {\r\n                                    PopupValueStored[key][groupKey].push(input.value);\r\n                                }\r\n                            }\r\n                        } else {\r\n                            if (input.value !== \"on\" && !PopupValueStored[key].includes(input.value)) {\r\n                                PopupValueStored[key].push(input.value);\r\n                            }\r\n                        }\r\n                    }\r\n                    input.addEventListener(\"change\", (event) => {\r\n                        const isInNestedGroup = input.closest('.talent-pool-nested-group') ||\r\n                            input.closest('.popup-transformed') ||\r\n                            group.classList.contains('popup-transformed');\r\n                        const isCategoryLevelInput = input.classList.contains('talent-pool-checkbox-input') &&\r\n                            input.closest('.talent-pool-nested-group');\r\n                        const isMainCategoryCheckbox = input.classList.contains('talent-pool-checkbox-input');\r\n                        if (!isInNestedGroup && !isCategoryLevelInput && !isMainCategoryCheckbox) {\r\n                            const value = event.target.value;\r\n                            if (key === \"custom_talent_category\") {\r\n                                PopupValueStored[key][groupKey] = PopupValueStored[key][groupKey] || [];\r\n                                if (value !== \"on\" && value !== groupKey) {\r\n                                    if (event.target.checked) {\r\n                                        if (!PopupValueStored[key][groupKey].includes(value)) {\r\n                                            PopupValueStored[key][groupKey].push(value);\r\n                                        }\r\n                                    } else {\r\n                                        const idx = PopupValueStored[key][groupKey].indexOf(value);\r\n                                        if (idx > -1) PopupValueStored[key][groupKey].splice(idx, 1);\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (value !== \"on\") {\r\n                                    if (event.target.checked) {\r\n                                        PopupValueStored[key].push(value);\r\n                                    } else {\r\n                                        const index = PopupValueStored[key].indexOf(value);\r\n                                        if (index > -1) {\r\n                                            PopupValueStored[key].splice(index, 1);\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            //console.log(\"PopupValueStored\", PopupValueStored);\r\n                            const event2 = new CustomEvent(\"PopupValueStored\", {detail: PopupValueStored});\r\n                            document.dispatchEvent(event2);\r\n                        }\r\n                    });\r\n                    const label = input.nextElementSibling;\r\n                    if (label && label.tagName === 'LABEL' && label.htmlFor) {\r\n                        label.htmlFor = `popup-${label.htmlFor}`;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        //console.log(\"PopupValueStored\", PopupValueStored);\r\n        const event1 = new CustomEvent(\"PopupValueStored\", {detail: PopupValueStored});\r\n        document.dispatchEvent(event1);\r\n        const dropdownButtons = clonedSidebar.querySelectorAll(\".talent-pool-dropdown-button\");\r\n        dropdownButtons.forEach(button => {\r\n            button.addEventListener(\"click\", (e) => {\r\n                Sidebar.dropdownButtonHandler(e);\r\n            });\r\n        });\r\n\r\n        const formContainer = document.createElement('div');\r\n        formContainer.classList.add('form-container');\r\n        \r\n\r\n        popupInnerWrapper.appendChild(clonedSidebar);\r\n        clonedSidebar.appendChild(formContainer);\r\n        document.body.appendChild(popupContainer);\r\n\r\n        // popup open trigger event\r\n        const event = new CustomEvent(\"model-open\", { detail: {container:popupContainer , formContainer: formContainer} });\r\n        document.dispatchEvent(event);\r\n\r\n    });\r\n    Sidebar.sidebar.appendChild(popupButton);\r\n}", "import RangeSlider from \"./range_slider.js\";\r\nimport { popupButton } from \"./popup_data.js\";\r\nexport default class TalentPoolSidebar {\r\n    constructor(options) {\r\n        this.container = options.container;\r\n        this.talentPool = options.talentPool;\r\n        this.parent = options.parent;\r\n        this.storedValue = {};\r\n        this.counter = options.counter;\r\n        this.normalize = this.parent.normalize;\r\n        this.labels = options.labels;\r\n        this.popupTitle = options.popupTitle;\r\n        this._events = {};\r\n        this.filterSidebar();\r\n        this.reset();\r\n    }\r\n    // Event System\r\n    on(event, handler) {\r\n        if (!this._events[event]) this._events[event] = [];\r\n        this._events[event].push(handler);\r\n    }\r\n    emit(event, data) {\r\n        if (this._events[event]) {\r\n            this._events[event].forEach(handler => handler(data));\r\n        }\r\n    }\r\n    triggerChange() {\r\n        this.emit(\"onChange\", this.storedValue);\r\n    }\r\n    // Sidebar UI Setup\r\n    filterSidebar() {\r\n        const maindiv = document.createElement(\"div\");\r\n        maindiv.classList.add(\"talent-pool-filter-sidebar\");\r\n        const titleDiv = document.createElement(\"div\");\r\n        titleDiv.classList.add(\"talent-pool-contain\");\r\n        titleDiv.innerHTML = `<div class=\"talent-pool-counter\"><div class=\"counter-loading\"></div><h4 class=\"total-count\"></h4></div>`;\r\n        const resetHtml = document.createElement(\"div\");\r\n        resetHtml.classList.add(\"talent-pool-reset\");\r\n        resetHtml.innerHTML = `${this.labels.resetLabel}`;\r\n        titleDiv.appendChild(resetHtml);\r\n\r\n        maindiv.appendChild(titleDiv);\r\n        this.container.appendChild(maindiv);\r\n        this.sidebar = maindiv;\r\n\r\n        const cobalt_search = document.createElement(\"div\");\r\n        cobalt_search.classList.add(\"cobalt_search\");\r\n        cobalt_search.innerHTML = `<input type=\"text\" id=\"search\" placeholder=\"${this.labels.searchPlaceholder}\"></input>`;\r\n        cobalt_search.innerHTML += ` <span><svg version=\"1.0\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\" aria-hidden=\"true\"><g id=\"Search1_layer\"><path d=\"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z\"></path></g></svg></span>`;\r\n        this.sidebar.appendChild(cobalt_search);\r\n\r\n        const popupTitle = document.createElement(\"div\");\r\n        popupTitle.classList.add(\"talent-pool-popup-title\");\r\n        popupTitle.innerHTML = `<h4>${this.popupTitle}</h4>`;\r\n        this.sidebar.appendChild(popupTitle);\r\n\r\n    }\r\n    updateData(talentPool) {\r\n        const prevStoredValue = JSON.parse(JSON.stringify(this.storedValue));\r\n        this.talentPool = talentPool;\r\n        while (this.sidebar.children.length > 3) {\r\n            this.sidebar.removeChild(this.sidebar.lastChild);\r\n        }\r\n        if (this.parent) {\r\n            this.parent.talentPool = talentPool;\r\n            if (typeof this.parent.renderSidebar === \"function\") {\r\n                this.parent.renderSidebar();\r\n            }\r\n        }\r\n        this.storedValue = prevStoredValue;\r\n        setTimeout(() => {\r\n            for (const key in prevStoredValue) {\r\n                const value = prevStoredValue[key];\r\n                if (typeof value === \"object\" && !Array.isArray(value)) {\r\n                    for (const groupKey in value) {\r\n                        const groupValue = value[groupKey];\r\n                        if (typeof groupValue === \"object\" && !Array.isArray(groupValue)) {\r\n                            for (const subGroupKey in groupValue) {\r\n                                const selectedValues = groupValue[subGroupKey];\r\n                                if (Array.isArray(selectedValues)) {\r\n                                    if (selectedValues.length === 1 && selectedValues[0] === \"selected\") {\r\n                                        const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                                        if (subGroupCheckbox) subGroupCheckbox.checked = true;\r\n                                    } else if (selectedValues.length === 1 && selectedValues[0] === subGroupKey) {\r\n                                        const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                                        if (subGroupCheckbox) subGroupCheckbox.checked = true;\r\n                                    } else {\r\n                                        selectedValues.forEach(val => {\r\n                                            const input = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}-${val}`);\r\n                                            if (input) input.checked = true;\r\n                                        });\r\n                                        const nestedGroup = this.parent.custom_talent_category.group[groupKey]?.group?.[subGroupKey];\r\n                                        if (nestedGroup && nestedGroup.type !== \"simple\") {\r\n                                            const allCount = nestedGroup ? this.getSimpleOptionsData(nestedGroup.values || []).length : 0;\r\n                                            const selectedCount = selectedValues.length;\r\n                                            const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                                            if (subGroupCheckbox && allCount > 0) {\r\n                                                subGroupCheckbox.checked = selectedCount === allCount;\r\n                                                subGroupCheckbox.indeterminate = selectedCount > 0 && selectedCount < allCount;\r\n                                                subGroupCheckbox.classList.toggle(\"indeterminate\", subGroupCheckbox.indeterminate);\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (Array.isArray(groupValue)) {\r\n                            groupValue.forEach(val => {\r\n                                const input = document.getElementById(`talent-pool-${key}-${val}`);\r\n                                if (input) input.checked = true;\r\n                            });\r\n                            const allCount = this.getSimpleOptionsData(this.parent.custom_talent_category.group[groupKey]?.values || []).length;\r\n                            const selectedCount = groupValue.length;\r\n                            const groupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}`);\r\n                            if (groupCheckbox) {\r\n                                groupCheckbox.checked = selectedCount === allCount;\r\n                                groupCheckbox.indeterminate = selectedCount > 0 && selectedCount < allCount;\r\n                                groupCheckbox.classList.toggle(\"indeterminate\", groupCheckbox.indeterminate);\r\n                            }\r\n                        }\r\n                    }\r\n                } else if (Array.isArray(value)) {\r\n                    value.forEach(val => {\r\n                        const input = document.getElementById(`talent-pool-${key}-${val}`);\r\n                        if (input) input.checked = true;\r\n                    });\r\n                }\r\n            }\r\n            for (const key in prevStoredValue) {\r\n                const value = prevStoredValue[key];\r\n                if (typeof value === \"object\" && !Array.isArray(value)) {\r\n                    for (const groupKey in value) {\r\n                        const groupValue = value[groupKey];\r\n                        if (typeof groupValue === \"object\" && !Array.isArray(groupValue)) {\r\n                            this.updateParentCheckboxState(key, groupKey);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.triggerChange();\r\n        }, 0);\r\n    }\r\n    // rangeslider \r\n    rangeSlider(option) {\r\n        this.rangeSliderOption = option;\r\n        const rangeSlider = new RangeSlider({\r\n            ...option,\r\n            formateCurrency: this.parent.formateCurrency.bind(this.parent)\r\n        });\r\n        const element = rangeSlider.initialize();\r\n        this.sidebar.appendChild(element);\r\n        // Initial filter\r\n        const initialData = rangeSlider.getValue();\r\n        this.filterBySalary(initialData);\r\n        rangeSlider.on(\"change\", (data) => {\r\n            this.filterBySalary(data);\r\n        });\r\n        popupButton(this);\r\n    }\r\n\r\n    filterBySalary({ minValue, maxValue }) {\r\n        this.storedValue.t_desired_salary = { minValue, maxValue };\r\n        this.triggerChange();\r\n    }\r\n    // getOptionsData(key = null, exclude = []) {\r\n    //     if (!key) return console.error(\"Key is required to get options data\");\r\n    //     const uniqueValues = new Set();\r\n    //     this.talentPool.forEach(item => {\r\n    //         if (item.properties[key] && !exclude.includes(item.properties[key])) {\r\n    //             uniqueValues.add(item.properties[key]);\r\n    //         }\r\n    //     });\r\n    //     return Array.from(uniqueValues).map(value => ({ label: value, value }));\r\n    // }\r\n    getOptionsData(key = null, exclude = []) {\r\n        if (!key) return console.error(\"Key is required to get options data\");\r\n        const uniqueValues = new Set();\r\n        const keys = Array.isArray(key) ? key : [key];\r\n        this.talentPool.forEach(item => {\r\n            keys.forEach(k => {\r\n                const val = item.properties[k];\r\n                if (val && !exclude.includes(val)) {\r\n                    uniqueValues.add(val);\r\n                }\r\n            });\r\n        });\r\n        const options = Array.from(uniqueValues).map(value => ({\r\n            label: value,\r\n            value\r\n        }));\r\n        options.sort((a, b) => a.label.localeCompare(b.label));\r\n        return options;\r\n    }\r\n    \r\n\r\n    getSimpleOptionsData(value = null) {\r\n        if (!value) return console.error(\"Value is required to get simple options data\");\r\n        return value.map(val => ({ label: val, value: val }));\r\n    }\r\n\r\n    addRemoveValueInStoredValue({ key = null, value = null, groupKey = null }) {\r\n        if (!key || value === null) return;\r\n        const previousState = JSON.parse(JSON.stringify(this.storedValue));\r\n        if (groupKey) {\r\n            this.storedValue[groupKey] = this.storedValue[groupKey] || {};\r\n            this.storedValue[groupKey][key] = this.storedValue[groupKey][key] || [];\r\n            const group = this.storedValue[groupKey][key];\r\n            const index = group.indexOf(value);\r\n            if (index > -1) {\r\n                group.splice(index, 1);\r\n            } else {\r\n                group.push(value);\r\n            }\r\n            if (key.startsWith('t_desired_region_')) {\r\n                for (let i = 1; i <= 3; i++) {\r\n                    const regionKey = `t_desired_region_${i}`;\r\n                    if (regionKey !== key) {\r\n                        this.storedValue[groupKey][regionKey] = this.storedValue[groupKey][regionKey] || [];\r\n                        const regionIndex = this.storedValue[groupKey][regionKey].indexOf(value);\r\n                        if (regionIndex > -1) {\r\n                            this.storedValue[groupKey][regionKey].splice(regionIndex, 1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            this.storedValue[key] = this.storedValue[key] || [];\r\n            const index = this.storedValue[key].indexOf(value);\r\n            index > -1 ? this.storedValue[key].splice(index, 1) : this.storedValue[key].push(value);\r\n        }\r\n        if (JSON.stringify(previousState) !== JSON.stringify(this.storedValue)) {\r\n            this.triggerChange();\r\n        }\r\n    }\r\n\r\n    buildOptionsDataGroup({ title = \"\", key = null, group = { filteredGroup } }) {\r\n        if (!key) return console.error(\"Key is required to build options data group\");\r\n        \r\n        const hasNestedGroups = Object.values(group).some(item => item.type === \"group\" && item.group);\r\n        if (hasNestedGroups) {\r\n            this.buildNestedOptionsDataGroup({ title, key, group });\r\n        } else {\r\n            if (title) {\r\n                const titleElement = document.createElement(\"h3\");\r\n                titleElement.textContent = title;\r\n                this.sidebar.appendChild(titleElement);\r\n            }\r\n            this.storedValue[key] = {};\r\n            Object.keys(group).forEach(groupKey => {\r\n                const item = group[groupKey];\r\n                this.storedValue[key][groupKey] = [];\r\n                this.buildOptionsData({\r\n                    isCustom: true,\r\n                    values: item.values || [],\r\n                    type: item.type || \"checkbox\",\r\n                    key,\r\n                    groupKey,\r\n                    exclude: item.exclude || [],\r\n                    placeholder: item.placeholder || \"\",\r\n                    title: item.name || groupKey\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n    dropdownButtonHandler(e) {\r\n        const wrapper = e.target.closest(\".talent-pool-checkboxes\");\r\n        wrapper.classList.toggle(\"active\");\r\n    }\r\n\r\n    buildOptionsData({ isCustom = false, values = [], type = \"checkbox\", key = null, exclude = [], placeholder = \"\", title = \"\", groupKey = null , replace = null }) {\r\n        if (!key) return console.error(\"Key is required to build options data\");\r\n        const options = isCustom ? this.getSimpleOptionsData(values) : this.getOptionsData(key, exclude);\r\n        const checkboxContainer = document.createElement(\"div\");\r\n        checkboxContainer.classList.add(\"talent-pool-checkboxes\");\r\n        checkboxContainer.setAttribute(\"data-key\", key);\r\n        if (isCustom && groupKey) {\r\n            checkboxContainer.setAttribute(\"data-group-key\", groupKey);\r\n        }\r\n        if (title && !isCustom) {\r\n            const titleElement = document.createElement(\"h3\");\r\n            titleElement.textContent = title;\r\n            checkboxContainer.appendChild(titleElement);\r\n            this.storedValue[key] = [];\r\n        }\r\n        if (title && isCustom) {\r\n            const dropdownButton = document.createElement(\"div\");\r\n            dropdownButton.classList.add(\"talent-pool-dropdown-button\");\r\n            dropdownButton.textContent = \"\";\r\n            dropdownButton.addEventListener(\"click\", (e) => {\r\n                this.dropdownButtonHandler(e);\r\n            });\r\n            checkboxContainer.appendChild(dropdownButton);\r\n\r\n            const checkboxInput = document.createElement(\"input\");\r\n            checkboxInput.type = \"checkbox\";\r\n            checkboxInput.id = `talent-pool-${key}-${groupKey}`;\r\n            checkboxInput.classList.add(\"talent-pool-checkbox-input\");\r\n\r\n            const checkboxLabel = document.createElement(\"label\");\r\n            checkboxLabel.htmlFor = checkboxInput.id;\r\n            checkboxLabel.textContent = title;\r\n\r\n            checkboxContainer.appendChild(checkboxInput);\r\n            checkboxContainer.appendChild(checkboxLabel);\r\n\r\n            checkboxInput.addEventListener(\"change\", (event) => {\r\n                if (!this.storedValue[key]) this.storedValue[key] = {};\r\n                if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = [];\r\n                if (event.target.checked) {\r\n                    //console.log(\"test\", options);\r\n                    this.storedValue[key][groupKey] = options.map(option => option.value);\r\n                    options.forEach(option => {\r\n                        const input = document.getElementById(`talent-pool-${key}-${option.value}`);\r\n                        if (input) input.checked = true;\r\n                    });\r\n                } else {\r\n                    this.storedValue[key][groupKey] = [];\r\n                    options.forEach(option => {\r\n                        const input = document.getElementById(`talent-pool-${key}-${option.value}`);\r\n                        if (input) input.checked = false;\r\n                    });\r\n                }\r\n                event.target.indeterminate = false;\r\n                event.target.classList.remove(\"indeterminate\");\r\n\r\n                // Trigger filtering\r\n                this.triggerChange();\r\n            });\r\n        }\r\n\r\n        if (type === \"checkbox\") {\r\n            const checkboxGroupWrapper = document.createElement(\"div\");\r\n            checkboxGroupWrapper.classList.add(\"talent-pool-checkbox-group-wrapper\");\r\n            if (title && isCustom) checkboxGroupWrapper.classList.add(\"dropdown-container\");\r\n            \r\n            options.forEach(option => {\r\n                const div = document.createElement(\"div\");\r\n                div.classList.add(\"talent-pool-checkbox\");\r\n\r\n                // const input = document.createElement(\"input\");\r\n                // input.type = \"checkbox\";\r\n                // input.value = option.value;\r\n                // input.id = `talent-pool-${key}-${option.value}`;\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"checkbox\";\r\n                input.value = option.value;\r\n                if (groupKey && key === \"custom_talent_category\") {\r\n                    input.id = `talent-pool-${key}-${groupKey}-${option.value}`;\r\n                } else {\r\n                    input.id = `talent-pool-${key}-${option.value}`;\r\n                }\r\n            \r\n\r\n                const label = document.createElement(\"label\");\r\n                label.htmlFor = input.id;\r\n                // label.textContent = `${option.label}`;\r\n                if(replace){\r\n                    const val = replace[option.label] || option.label;\r\n                    label.textContent = val;\r\n                }else{\r\n                    label.textContent = `${option.label}`;\r\n                }\r\n\r\n                div.appendChild(input);\r\n                div.appendChild(label);\r\n\r\n                if (key !== \"custom_talent_category\") {\r\n                    input.addEventListener(\"change\", () => {\r\n                        this.addRemoveValueInStoredValue({ key, value: option.value });\r\n                        this.triggerChange();\r\n                    });\r\n                } else {\r\n                    input.addEventListener(\"change\", () => {\r\n                        this.addRemoveValueInStoredValue({ groupKey: key, key: groupKey, value: option.value });\r\n                        const total = options.length;\r\n                        const selected = this.storedValue[key][groupKey].length;\r\n                        const mainCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}`);\r\n                        if (mainCheckbox) {\r\n                            mainCheckbox.checked = total === selected;\r\n                            mainCheckbox.classList.toggle(\"indeterminate\", selected > 0 && selected < total);\r\n                            mainCheckbox.indeterminate = selected > 0 && selected < total;\r\n                        }\r\n                        this.triggerChange();\r\n                    });\r\n                }\r\n                checkboxGroupWrapper.appendChild(div);\r\n            });\r\n            checkboxContainer.appendChild(checkboxGroupWrapper);\r\n        } else {\r\n            const select = document.createElement(\"select\");\r\n            select.classList.add(\"talent-pool-select\");\r\n            const defaultOption = document.createElement(\"option\");\r\n            defaultOption.value = \"\";\r\n            defaultOption.textContent = placeholder || \"Select an option\";\r\n            select.appendChild(defaultOption);\r\n            options.forEach(option => {\r\n                const optionElement = document.createElement(\"option\");\r\n                optionElement.value = option.value;\r\n                optionElement.textContent = option.label;\r\n                select.appendChild(optionElement);\r\n            });\r\n            checkboxContainer.appendChild(select);\r\n        }\r\n        this.sidebar.appendChild(checkboxContainer);\r\n    }\r\n\r\n    buildNestedOptionsData({ isCustom = false, values = [], type = \"checkbox\", key = null, exclude = [], placeholder = \"\", title = \"\", groupKey = null, subGroupKey = null, container = null }) {\r\n        if (!key) return console.error(\"Key is required to build nested options data\");\r\n\r\n        const options = isCustom ? this.getSimpleOptionsData(values) : this.getOptionsData(key, exclude);\r\n        const checkboxContainer = container || document.createElement(\"div\");\r\n        checkboxContainer.classList.add(\"talent-pool-checkboxes\", \"nested\");\r\n        checkboxContainer.setAttribute(\"data-key\", key);\r\n\r\n        if (isCustom && groupKey) {\r\n            checkboxContainer.setAttribute(\"data-group-key\", groupKey);\r\n        }\r\n        if (subGroupKey) {\r\n            checkboxContainer.setAttribute(\"data-subgroup-key\", subGroupKey);\r\n        }\r\n\r\n        if (title && isCustom) {\r\n            const dropdownButton = document.createElement(\"div\");\r\n            dropdownButton.classList.add(\"talent-pool-dropdown-button\", \"nested\");\r\n            dropdownButton.textContent = \"\";\r\n            dropdownButton.addEventListener(\"click\", (e) => {\r\n                this.dropdownButtonHandler(e);\r\n            });\r\n            checkboxContainer.appendChild(dropdownButton);\r\n\r\n            const checkboxInput = document.createElement(\"input\");\r\n            checkboxInput.type = \"checkbox\";\r\n            checkboxInput.id = subGroupKey ?\r\n                `talent-pool-${key}-${groupKey}-${subGroupKey}` :\r\n                `talent-pool-${key}-${groupKey}`;\r\n            checkboxInput.classList.add(\"talent-pool-checkbox-input\", \"nested\");\r\n\r\n            const checkboxLabel = document.createElement(\"label\");\r\n            checkboxLabel.htmlFor = checkboxInput.id;\r\n            checkboxLabel.textContent = title;\r\n            checkboxLabel.classList.add(\"nested\");\r\n\r\n            checkboxContainer.appendChild(checkboxInput);\r\n            checkboxContainer.appendChild(checkboxLabel);\r\n\r\n            checkboxInput.addEventListener(\"change\", (event) => {\r\n                if (subGroupKey) {\r\n                    if (!this.storedValue[key]) this.storedValue[key] = {};\r\n                    if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = {};\r\n                    if (!this.storedValue[key][groupKey][subGroupKey]) this.storedValue[key][groupKey][subGroupKey] = [];\r\n\r\n                    if (event.target.checked) {\r\n                        this.storedValue[key][groupKey][subGroupKey] = options.map(option => option.value);\r\n                        options.forEach(option => {\r\n                            const input = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}-${option.value}`);\r\n                            if (input) input.checked = true;\r\n                        });\r\n                    } else {\r\n                        this.storedValue[key][groupKey][subGroupKey] = [];\r\n                        options.forEach(option => {\r\n                            const input = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}-${option.value}`);\r\n                            if (input) input.checked = false;\r\n                        });\r\n                    }\r\n                    this.updateParentCheckboxState(key, groupKey);\r\n                    setTimeout(() => this.updateParentCheckboxState(key, groupKey), 10);\r\n                } else {\r\n                    if (!this.storedValue[key]) this.storedValue[key] = {};\r\n                    if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = [];\r\n\r\n                    if (event.target.checked) {\r\n                        this.storedValue[key][groupKey] = options.map(option => option.value);\r\n                        options.forEach(option => {\r\n                            const input = document.getElementById(`talent-pool-${key}-${option.value}`);\r\n                            if (input) input.checked = true;\r\n                        });\r\n                    } else {\r\n                        this.storedValue[key][groupKey] = [];\r\n                        options.forEach(option => {\r\n                            const input = document.getElementById(`talent-pool-${key}-${option.value}`);\r\n                            if (input) input.checked = false;\r\n                        });\r\n                    }\r\n                }\r\n                event.target.indeterminate = false;\r\n                event.target.classList.remove(\"indeterminate\");\r\n                this.triggerChange();\r\n            });\r\n        }\r\n        if (type === \"checkbox\") {\r\n            const checkboxGroupWrapper = document.createElement(\"div\");\r\n            checkboxGroupWrapper.classList.add(\"talent-pool-checkbox-group-wrapper\", \"nested\");\r\n            if (title && isCustom) checkboxGroupWrapper.classList.add(\"dropdown-container\");\r\n\r\n            options.forEach(option => {\r\n                const div = document.createElement(\"div\");\r\n                div.classList.add(\"talent-pool-checkbox\", \"nested\");\r\n\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"checkbox\";\r\n                input.value = option.value;\r\n                input.id = subGroupKey ?\r\n                    `talent-pool-${key}-${groupKey}-${subGroupKey}-${option.value}` :\r\n                    `talent-pool-${key}-${groupKey}-${option.value}`;\r\n                input.classList.add(\"nested\");\r\n\r\n                const label = document.createElement(\"label\");\r\n                label.htmlFor = input.id;\r\n                label.textContent = option.label;\r\n                label.classList.add(\"nested\");\r\n\r\n                div.appendChild(input);\r\n                div.appendChild(label);\r\n\r\n                if (subGroupKey) {\r\n                    input.addEventListener(\"change\", () => {\r\n                        this.addRemoveValueInNestedGroup({\r\n                            key,\r\n                            groupKey,\r\n                            subGroupKey,\r\n                            value: option.value\r\n                        });\r\n\r\n                        const total = options.length;\r\n                        const selected = this.storedValue[key][groupKey][subGroupKey].length;\r\n                        const mainCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                        if (mainCheckbox) {\r\n                            mainCheckbox.checked = total === selected;\r\n                            mainCheckbox.classList.toggle(\"indeterminate\", selected > 0 && selected < total);\r\n                            mainCheckbox.indeterminate = selected > 0 && selected < total;\r\n                        }\r\n                        this.updateParentCheckboxState(key, groupKey);\r\n                        setTimeout(() => this.updateParentCheckboxState(key, groupKey), 10);\r\n                        this.triggerChange();\r\n                    });\r\n                } else {\r\n                    input.addEventListener(\"change\", () => {\r\n                        this.addRemoveValueInStoredValue({ groupKey: key, key: groupKey, value: option.value });\r\n                        const total = options.length;\r\n                        const selected = this.storedValue[key][groupKey].length;\r\n                        const mainCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}`);\r\n                        if (mainCheckbox) {\r\n                            mainCheckbox.checked = total === selected;\r\n                            mainCheckbox.classList.toggle(\"indeterminate\", selected > 0 && selected < total);\r\n                            mainCheckbox.indeterminate = selected > 0 && selected < total;\r\n                        }\r\n                        this.triggerChange();\r\n                    });\r\n                }\r\n                checkboxGroupWrapper.appendChild(div);\r\n            });\r\n            checkboxContainer.appendChild(checkboxGroupWrapper);\r\n        }\r\n        if (!container) {\r\n            this.sidebar.appendChild(checkboxContainer);\r\n        }\r\n    }\r\n\r\n    addRemoveValueInNestedGroup({ key = null, groupKey = null, subGroupKey = null, value = null }) {\r\n        if (!key || !groupKey || !subGroupKey || !value) {\r\n            return console.error(\"Key, groupKey, subGroupKey and value are required for nested groups\");\r\n        }\r\n        if (!this.storedValue[key]) this.storedValue[key] = {};\r\n        if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = {};\r\n        if (!this.storedValue[key][groupKey][subGroupKey]) this.storedValue[key][groupKey][subGroupKey] = [];\r\n\r\n        const nestedGroup = this.storedValue[key][groupKey][subGroupKey];\r\n        const index = nestedGroup.indexOf(value);\r\n\r\n        if (index > -1) {\r\n            nestedGroup.splice(index, 1);\r\n        } else {\r\n            nestedGroup.push(value);\r\n        }\r\n\r\n        this.triggerChange();\r\n    }\r\n\r\n    buildNestedOptionsDataGroup({ title = \"\", key = null, group = {} }) {\r\n        if (!key) return console.error(\"Key is required to build nested options data group\");\r\n        if (title) {\r\n            const titleElement = document.createElement(\"h3\");\r\n            titleElement.classList.add(\"custom_talent\");\r\n            titleElement.textContent = title;\r\n            this.sidebar.appendChild(titleElement);\r\n        }\r\n        this.storedValue[key] = {};\r\n        Object.keys(group).forEach(groupKey => {\r\n            const item = group[groupKey];\r\n            // Check if this group has nested groups\r\n            if (item.type === \"group\" && item.group) {\r\n                // Create main nested group container with dropdown and checkbox\r\n                const nestedGroupContainer = document.createElement(\"div\");\r\n                nestedGroupContainer.classList.add(\"talent-pool-checkboxes\", \"talent-pool-nested-group\", \"nested\");\r\n                nestedGroupContainer.setAttribute(\"data-key\", key);\r\n                nestedGroupContainer.setAttribute(\"data-group-key\", groupKey);\r\n                // dropdown  main group\r\n                const dropdownButton = document.createElement(\"div\");\r\n                dropdownButton.classList.add(\"talent-pool-dropdown-button\", \"nested\");\r\n                dropdownButton.textContent = \"\";\r\n                dropdownButton.addEventListener(\"click\", (e) => {\r\n                    this.dropdownButtonHandler(e);\r\n                });\r\n                nestedGroupContainer.appendChild(dropdownButton);\r\n                // Add main group checkbox\r\n                const mainCheckboxInput = document.createElement(\"input\");\r\n                mainCheckboxInput.type = \"checkbox\";\r\n                mainCheckboxInput.id = `talent-pool-${key}-${groupKey}`;\r\n                mainCheckboxInput.classList.add(\"talent-pool-checkbox-input\", \"nested\");\r\n\r\n                const mainCheckboxLabel = document.createElement(\"label\");\r\n                mainCheckboxLabel.htmlFor = mainCheckboxInput.id;\r\n                mainCheckboxLabel.textContent = item.name || groupKey;\r\n                mainCheckboxLabel.classList.add(\"nested\");\r\n\r\n                nestedGroupContainer.appendChild(mainCheckboxInput);\r\n                nestedGroupContainer.appendChild(mainCheckboxLabel);\r\n\r\n                //dropdown subgroups\r\n                const dropdownContainer = document.createElement(\"div\");\r\n                dropdownContainer.classList.add(\"talent-pool-checkbox-group-wrapper\", \"dropdown-container\", \"nested\");\r\n                //initialize stored value for this group\r\n                this.storedValue[key][groupKey] = {};\r\n\r\n                // Add main group checkbox event listener\r\n                mainCheckboxInput.addEventListener(\"change\", (event) => {\r\n                    const allSubGroups = Object.keys(item.group);\r\n                    if (event.target.checked) {\r\n                        // Check all subgroups and their options\r\n                        allSubGroups.forEach(subGroupKey => {\r\n                            const subItem = item.group[subGroupKey];\r\n                            const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                            if (subGroupCheckbox) subGroupCheckbox.checked = true;\r\n\r\n                            if (subItem.type === \"simple\") {\r\n                                this.storedValue[key][groupKey][subGroupKey] = subItem.values || [subGroupKey];\r\n                            } else if (subItem.values && subItem.values.length > 0) {\r\n                                this.storedValue[key][groupKey][subGroupKey] = [...subItem.values];\r\n                                subItem.values.forEach(val => {\r\n                                    const input = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}-${val}`);\r\n                                    if (input) input.checked = true;\r\n                                });\r\n                            } else {\r\n                                // For empty values, just mark as selected\r\n                                this.storedValue[key][groupKey][subGroupKey] = [\"selected\"];\r\n                            }\r\n                        });\r\n                    } else {\r\n                        // Uncheck all subgroups and their options\r\n                        allSubGroups.forEach(subGroupKey => {\r\n                            const subItem = item.group[subGroupKey];\r\n                            const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                            if (subGroupCheckbox) subGroupCheckbox.checked = false;\r\n\r\n                            this.storedValue[key][groupKey][subGroupKey] = [];\r\n                            if (subItem.values && subItem.values.length > 0) {\r\n                                subItem.values.forEach(val => {\r\n                                    const input = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}-${val}`);\r\n                                    if (input) input.checked = false;\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    event.target.indeterminate = false;\r\n                    event.target.classList.remove(\"indeterminate\");\r\n                    this.triggerChange();\r\n                });\r\n                // Process ALL subgroups inside the dropdown container\r\n                Object.keys(item.group).forEach(subGroupKey => {\r\n                    const subItem = item.group[subGroupKey];\r\n                    this.storedValue[key][groupKey][subGroupKey] = [];\r\n                    // Create nested subgroup\r\n                    const nestedSubContainer = document.createElement(\"div\");\r\n                    nestedSubContainer.classList.add(\"talent-pool-nested-subgroup\", \"nested\");\r\n                    // Handle different types of subgroups\r\n                    if (subItem.type === \"simple\") {\r\n                        // Handle simple categories (like \"Leitungsfunktionen\", \"Sonstige\")\r\n                        this.buildSimpleNestedCategory({\r\n                            key,\r\n                            groupKey,\r\n                            subGroupKey,\r\n                            title: subItem.name || subGroupKey,\r\n                            container: nestedSubContainer\r\n                        });\r\n                    } else if (!subItem.values || subItem.values.length === 0) {\r\n                        // Handle empty groups\r\n                        this.buildEmptyNestedGroup({\r\n                            key,\r\n                            groupKey,\r\n                            subGroupKey,\r\n                            title: subItem.name || subGroupKey,\r\n                            container: nestedSubContainer\r\n                        });\r\n                    } else {\r\n                        // Handle complex groups with values\r\n                        this.buildNestedOptionsData({\r\n                            isCustom: true,\r\n                            values: subItem.values || [],\r\n                            type: subItem.type || \"checkbox\",\r\n                            key,\r\n                            groupKey,\r\n                            subGroupKey,\r\n                            exclude: subItem.exclude || [],\r\n                            placeholder: subItem.placeholder || \"\",\r\n                            title: subItem.name || subGroupKey,\r\n                            container: nestedSubContainer\r\n                        });\r\n                    }\r\n                    dropdownContainer.appendChild(nestedSubContainer);\r\n                });\r\n                // Make the dropdown active/expanded by default\r\n                nestedGroupContainer.appendChild(dropdownContainer);\r\n                this.sidebar.appendChild(nestedGroupContainer);\r\n            } else {\r\n                // Handle regular groups (existing functionality)\r\n                this.storedValue[key][groupKey] = [];\r\n                this.buildOptionsData({\r\n                    isCustom: true,\r\n                    values: item.values || [],\r\n                    type: item.type || \"checkbox\",\r\n                    key,\r\n                    groupKey,\r\n                    exclude: item.exclude || [],\r\n                    placeholder: item.placeholder || \"\",\r\n                    title: item.name || groupKey\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    buildSimpleNestedCategory({ key = null, groupKey = null, subGroupKey = null, title = \"\", container = null }) {\r\n        if (!key || !groupKey || !subGroupKey) {\r\n            return console.error(\"Key, groupKey, and subGroupKey are required for simple nested categories\");\r\n        }\r\n        const checkboxDiv = document.createElement(\"div\");\r\n        checkboxDiv.classList.add(\"talent-pool-checkbox\", \"nested\", \"simple-category\");\r\n\r\n        const checkboxInput = document.createElement(\"input\");\r\n        checkboxInput.type = \"checkbox\";\r\n        checkboxInput.id = `talent-pool-${key}-${groupKey}-${subGroupKey}`;\r\n        checkboxInput.classList.add(\"talent-pool-checkbox-input\", \"nested\");\r\n        checkboxInput.value = subGroupKey;\r\n\r\n        const checkboxLabel = document.createElement(\"label\");\r\n        checkboxLabel.htmlFor = checkboxInput.id;\r\n        checkboxLabel.textContent = title;\r\n        checkboxLabel.classList.add(\"nested\");\r\n\r\n        checkboxDiv.appendChild(checkboxInput);\r\n        checkboxDiv.appendChild(checkboxLabel);\r\n\r\n        checkboxInput.addEventListener(\"change\", (event) => {\r\n            if (!this.storedValue[key]) this.storedValue[key] = {};\r\n            if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = {};\r\n            if (!this.storedValue[key][groupKey][subGroupKey]) this.storedValue[key][groupKey][subGroupKey] = [];\r\n\r\n            if (event.target.checked) {\r\n                // For simple categories, use the actual values from the configuration\r\n                const groupConfig = this.parent.custom_talent_category.group[groupKey];\r\n                const subGroupConfig = groupConfig?.group?.[subGroupKey];\r\n                const actualValues = subGroupConfig?.values || [subGroupKey];\r\n                this.storedValue[key][groupKey][subGroupKey] = [...actualValues];\r\n            } else {\r\n                this.storedValue[key][groupKey][subGroupKey] = [];\r\n            }\r\n\r\n            // Update parent group checkbox state immediately and with timeout for safety\r\n            this.updateParentCheckboxState(key, groupKey);\r\n            setTimeout(() => this.updateParentCheckboxState(key, groupKey), 10);\r\n\r\n            // Trigger filtering\r\n            this.triggerChange();\r\n        });\r\n\r\n        if (container) {\r\n            container.appendChild(checkboxDiv);\r\n        } else {\r\n            const checkboxContainer = document.createElement(\"div\");\r\n            checkboxContainer.classList.add(\"talent-pool-simple-nested-category\", \"nested\");\r\n            checkboxContainer.setAttribute(\"data-key\", key);\r\n            checkboxContainer.setAttribute(\"data-group-key\", groupKey);\r\n            checkboxContainer.setAttribute(\"data-subgroup-key\", subGroupKey);\r\n            checkboxContainer.appendChild(checkboxDiv);\r\n            this.sidebar.appendChild(checkboxContainer);\r\n        }\r\n    }\r\n\r\n    buildEmptyNestedGroup({ key = null, groupKey = null, subGroupKey = null, title = \"\", container = null }) {\r\n        if (!key || !groupKey || !subGroupKey) {\r\n            return console.error(\"Key, groupKey, and subGroupKey are required for empty nested groups\");\r\n        }\r\n        const checkboxContainer = container || document.createElement(\"div\");\r\n        checkboxContainer.classList.add(\"talent-pool-checkboxes\", \"nested\", \"empty-group\");\r\n        checkboxContainer.setAttribute(\"data-key\", key);\r\n        checkboxContainer.setAttribute(\"data-group-key\", groupKey);\r\n        checkboxContainer.setAttribute(\"data-subgroup-key\", subGroupKey);\r\n        const dropdownButton = document.createElement(\"div\");\r\n        dropdownButton.classList.add(\"talent-pool-dropdown-button\", \"nested\");\r\n        dropdownButton.textContent = \"\";\r\n        dropdownButton.addEventListener(\"click\", (e) => {\r\n            this.dropdownButtonHandler(e);\r\n        });\r\n        checkboxContainer.appendChild(dropdownButton);\r\n        const checkboxInput = document.createElement(\"input\");\r\n        checkboxInput.type = \"checkbox\";\r\n        checkboxInput.id = `talent-pool-${key}-${groupKey}-${subGroupKey}`;\r\n        checkboxInput.classList.add(\"talent-pool-checkbox-input\", \"nested\");\r\n        const checkboxLabel = document.createElement(\"label\");\r\n        checkboxLabel.htmlFor = checkboxInput.id;\r\n        checkboxLabel.textContent = title;\r\n        checkboxLabel.classList.add(\"nested\");\r\n        checkboxContainer.appendChild(checkboxInput);\r\n        checkboxContainer.appendChild(checkboxLabel);\r\n        checkboxInput.addEventListener(\"change\", (event) => {\r\n            if (!this.storedValue[key]) this.storedValue[key] = {};\r\n            if (!this.storedValue[key][groupKey]) this.storedValue[key][groupKey] = {};\r\n            if (!this.storedValue[key][groupKey][subGroupKey]) this.storedValue[key][groupKey][subGroupKey] = [];\r\n\r\n            if (event.target.checked) {\r\n                this.storedValue[key][groupKey][subGroupKey] = [\"selected\"];\r\n            } else {\r\n                this.storedValue[key][groupKey][subGroupKey] = [];\r\n            }\r\n            this.updateParentCheckboxState(key, groupKey);\r\n            // Trigger filtering\r\n            this.triggerChange();\r\n        });\r\n\r\n        const emptyWrapper = document.createElement(\"div\");\r\n        emptyWrapper.classList.add(\"talent-pool-checkbox-group-wrapper\", \"dropdown-container\", \"nested\", \"empty\");\r\n        emptyWrapper.innerHTML = '<div class=\"empty-group-placeholder nested\">No specific options</div>';\r\n        checkboxContainer.appendChild(emptyWrapper);\r\n        if (!container) {\r\n            this.sidebar.appendChild(checkboxContainer);\r\n        }\r\n    }\r\n\r\n    updateParentCheckboxState(key, groupKey) {\r\n        const parentCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}`);\r\n        if (!parentCheckbox) return;\r\n        const groupConfig = this.parent.custom_talent_category.group[groupKey];\r\n        if (!groupConfig || !groupConfig.group) return;\r\n\r\n        // Ensure the nested structure exists\r\n        if (!this.storedValue[key]) {\r\n            this.storedValue[key] = {};\r\n        }\r\n        if (!this.storedValue[key][groupKey]) {\r\n            this.storedValue[key][groupKey] = {};\r\n        }\r\n\r\n        const allSubGroupsFromConfig = Object.keys(groupConfig.group);\r\n        const storedSubGroups = this.storedValue[key][groupKey] || {};\r\n        let fullySelectedSubGroups = 0;\r\n        let partiallySelectedSubGroups = 0;\r\n        let unselectedSubGroups = 0;\r\n        let totalSubGroups = allSubGroupsFromConfig.length;\r\n        allSubGroupsFromConfig.forEach(subGroupKey => {\r\n            const subGroupValues = storedSubGroups[subGroupKey] || [];\r\n            const subGroupConfig = groupConfig.group[subGroupKey];\r\n            const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n            if (subGroupValues.length === 0) {\r\n                unselectedSubGroups++;\r\n                return;\r\n            }\r\n\r\n            if (subGroupConfig.type === \"simple\") {\r\n                fullySelectedSubGroups++;\r\n            } else if (subGroupConfig.values && subGroupConfig.values.length > 0) {\r\n                const expectedCount = subGroupConfig.values.length;\r\n                const selectedCount = subGroupValues.length;\r\n                if (selectedCount === expectedCount) {\r\n                    fullySelectedSubGroups++;\r\n                } else if (selectedCount > 0) {\r\n                    partiallySelectedSubGroups++;\r\n                }\r\n            } else {\r\n                fullySelectedSubGroups++;\r\n            }\r\n        });\r\n\r\n        const allFullySelected = fullySelectedSubGroups === totalSubGroups && totalSubGroups > 0;\r\n        const allUnselected = unselectedSubGroups === totalSubGroups;\r\n        const hasAnyPartialOrMixed = partiallySelectedSubGroups > 0 || (fullySelectedSubGroups > 0 && unselectedSubGroups > 0);\r\n\r\n        if (allFullySelected) {\r\n            parentCheckbox.checked = true;\r\n            parentCheckbox.indeterminate = false;\r\n            parentCheckbox.classList.remove(\"indeterminate\");\r\n        } else if (allUnselected) {\r\n            parentCheckbox.checked = false;\r\n            parentCheckbox.indeterminate = false;\r\n            parentCheckbox.classList.remove(\"indeterminate\");\r\n        } else if (hasAnyPartialOrMixed) {\r\n            parentCheckbox.checked = false;\r\n            parentCheckbox.indeterminate = true;\r\n            parentCheckbox.classList.add(\"indeterminate\");\r\n        }\r\n        parentCheckbox.classList.toggle(\"indeterminate\", parentCheckbox.indeterminate);\r\n        // Update parent group counter with sum of checked children\r\n        this.updateParentGroupCounter(key, groupKey);\r\n    }\r\n\r\n    updateAllParentGroupCounters() {\r\n        if (!this.parent || !this.parent.custom_talent_category) return;\r\n        const customGroups = this.parent.custom_talent_category.group;\r\n        for (const groupKey in customGroups) {\r\n            const groupConfig = customGroups[groupKey];\r\n            if (groupConfig.type === 'group' && groupConfig.group) {\r\n                this.updateParentGroupCounter('custom_talent_category', groupKey);\r\n            }\r\n        }\r\n    }\r\n\r\n    updateParentGroupCounter(key, groupKey) {\r\n        if (key !== 'custom_talent_category') return;\r\n\r\n        const parentCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}`);\r\n        if (!parentCheckbox) return;\r\n\r\n        const parentLabel = parentCheckbox.nextElementSibling;\r\n        if (!parentLabel) return;\r\n\r\n        const parentCounterSpan = parentLabel.querySelector('.talent-pool-counter-label');\r\n        if (!parentCounterSpan) return;\r\n\r\n        // Ensure the nested structure exists\r\n        if (!this.storedValue[key]) {\r\n            this.storedValue[key] = {};\r\n        }\r\n        if (!this.storedValue[key][groupKey]) {\r\n            this.storedValue[key][groupKey] = {};\r\n        }\r\n\r\n        const storedSubGroups = this.storedValue[key][groupKey] || {};\r\n        let totalSelectedCount = 0;\r\n        let hasAnyCheckedSubGroups = false;\r\n\r\n        // Sum up counts from all checked children\r\n        Object.keys(storedSubGroups).forEach(subGroupKey => {\r\n            const subGroupValues = storedSubGroups[subGroupKey] || [];\r\n            if (subGroupValues.length > 0) {\r\n                hasAnyCheckedSubGroups = true;\r\n                const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                if (subGroupCheckbox) {\r\n                    const subGroupLabel = subGroupCheckbox.nextElementSibling;\r\n                    const subGroupCounterSpan = subGroupLabel?.querySelector('.talent-pool-counter-label');\r\n                    if (subGroupCounterSpan) {\r\n                        const match = subGroupCounterSpan.textContent.match(/\\((\\d+)\\)/);\r\n                        const count = match ? parseInt(match[1]) : 0;\r\n                        totalSelectedCount += count;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        // If no subgroups are checked, show total available count, otherwise show sum of checked children\r\n        if (!hasAnyCheckedSubGroups) {\r\n            // Calculate total available count for all subgroups when none are selected\r\n            totalSelectedCount = 0;\r\n            const groupConfig = this.parent.custom_talent_category.group[groupKey];\r\n            if (groupConfig && groupConfig.group) {\r\n                Object.keys(groupConfig.group).forEach(subGroupKey => {\r\n                    const subGroupCheckbox = document.getElementById(`talent-pool-${key}-${groupKey}-${subGroupKey}`);\r\n                    if (subGroupCheckbox) {\r\n                        const subGroupLabel = subGroupCheckbox.nextElementSibling;\r\n                        const subGroupCounterSpan = subGroupLabel?.querySelector('.talent-pool-counter-label');\r\n                        if (subGroupCounterSpan) {\r\n                            const match = subGroupCounterSpan.textContent.match(/\\((\\d+)\\)/);\r\n                            const count = match ? parseInt(match[1]) : 0;\r\n                            totalSelectedCount += count;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        parentCounterSpan.textContent = ` (${totalSelectedCount})`;\r\n    }\r\n    reset(){\r\n        const checkedBoxes = document.querySelectorAll('.talent-pool-filter-sidebar input[type=\"checkbox\"]:checked');\r\n        checkedBoxes.forEach(checkbox => {\r\n            checkbox.checked = false;\r\n        });\r\n    }\r\n}\r\n\r\n", "import Filter from './filter.js';\r\nimport TalentPoolSidebar from './sidebar.js';\r\nimport Counter from './counter.js';\r\nimport dataSort from './sorting.js';\r\nimport RangeSlider from './range_slider.js';\r\nexport class TalentPool {\r\n    constructor(options = {}) {\r\n        this.options = options;\r\n        this.custom_talent_category = options.custom_talent_category;\r\n        this.container = document.querySelector(options.container);\r\n        this.talentPool = options.data || [];\r\n        this.sidebar = new TalentPoolSidebar({\r\n            container: this.container,\r\n            talentPool: this.talentPool,\r\n            parent: this,\r\n            labels: this.options.labels,\r\n            popupTitle: this.options.popupTitle,\r\n        });\r\n        this.sidebar.Filter = this.Filter;\r\n        this.Filter = new Filter({\r\n            container: this.container,\r\n            sidebar: this.sidebar,\r\n            talentPool: this.talentPool,\r\n            normalize: this.normalize.bind(this),\r\n            getSplitPattern: this.getSplitPattern.bind(this),\r\n            labels: this.options.labels,\r\n            itemsPerPageShow: this.options.itemsPerPageShow,\r\n            loadingText: this.options.loadingText,\r\n            InnerPageLink: this.options.InnerPageLink,\r\n            formateCurrency: this.formateCurrency.bind(this)\r\n        });\r\n        this.sidebar.Filter = this.Filter;\r\n        this.counter = new Counter({\r\n            sidebar: this.sidebar,\r\n            Filter: this.Filter,\r\n            talentPool: this.talentPool,\r\n            normalize: this.normalize.bind(this),\r\n            getSplitPattern: this.getSplitPattern.bind(this),\r\n            labels: this.options.labels\r\n        }, {\r\n            container: this.container,\r\n            Filter: this.Filter,\r\n        });\r\n        this.Filter.Counter = this.counter;\r\n        this.dataSort = new dataSort({\r\n            sidebar: this.sidebar,\r\n            Filter: this.Filter,\r\n            Counter: this.counter,\r\n            talentPool: this.talentPool,\r\n            normalize: this.normalize.bind(this),\r\n            getSplitPattern: this.getSplitPattern.bind(this),\r\n            labels: this.options.labels\r\n        }, {\r\n            container: this.container,\r\n            Filter: this.Filter,\r\n            Counter: this.counter,\r\n        });\r\n        this.RangeSlider = new RangeSlider({\r\n            sidebar: this.sidebar,\r\n            slider: this.sidebar.rangeSlider\r\n        });\r\n        this.initializeLoading();\r\n    }\r\n    renderSidebar() {\r\n        const categoriesList = this.talentPool.map(item => (item.properties.custom_talent_category || '').trim().toLowerCase());\r\n        const availableCategories = new Set(categoriesList.filter(Boolean));\r\n        const group = this.custom_talent_category.group;\r\n        const fullGroup = {};\r\n        for (const [key, groupObj] of Object.entries(group)) {\r\n            fullGroup[key] = {\r\n                ...groupObj,\r\n                ...(groupObj.values && { values: [...groupObj.values] })\r\n            };\r\n        }\r\n        this.sidebar.buildOptionsData({\r\n            ...this.options.t_procedure_txt,\r\n        });\r\n        this.sidebar.buildOptionsDataGroup({\r\n            ...this.custom_talent_category,\r\n        });\r\n        this.sidebar.buildOptionsData({\r\n            ...this.options.t_experience_level\r\n        });\r\n        this.sidebar.buildOptionsData({\r\n            ...this.options.t_desired_region_1,\r\n        });\r\n\r\n        this.sidebar.rangeSlider({\r\n            ...this.options.t_desired_salary,\r\n        });\r\n    }\r\n    // normalize(str) {\r\n    //     return String(str || \"\")\r\n    //         .normalize(\"NFKC\")\r\n    //         .replace(/[^\\x20-\\x7E]/g, \"\")\r\n    //         .toLowerCase()\r\n    //         .replace(/[_\\s]+/g, \" \")\r\n    //         .replace(/\\b_[a-z]$/i, \"\")\r\n    //         .trim();\r\n    // }\r\n    normalize(str) {\r\n        return String(str || \"\")\r\n            .normalize(\"NFKC\")\r\n            .replace(/[^\\x20-\\x7E]/g, \"\")\r\n            .toLowerCase()\r\n            .replace(/[_\\s]+/g, \" \")\r\n            .replace(/\\s*&\\s*/g, ' and ') \r\n            .replace(/\\s+and\\s+/g, ' and ') \r\n            .replace(/\\b_[a-z]$/i, \"\")\r\n            .trim();\r\n    }\r\n    getSplitPattern(value) {\r\n        if (value.includes(\";\")) return /[;]/;\r\n        const commaCount = (value.match(/,/g) || []).length;\r\n        return commaCount > 1 || value.length < 100 ? /[;,]/ : /[;]/;\r\n    }\r\n    formateCurrency(value, end = '\u20B9') {\r\n        const numberValue = parseFloat(value);\r\n        if (isNaN(numberValue)) return value;\r\n        return new Intl.NumberFormat('en-IN', {\r\n            style: 'currency',\r\n            currency: 'INR',\r\n            minimumFractionDigits: 0,\r\n            maximumFractionDigits: 0\r\n        }).format(numberValue).replace('\u20B9', end);\r\n    }\r\n    initializeLoading() {\r\n        const loadingElement = document.querySelector('.talent-pool-loading-text');\r\n        if (loadingElement && this.options.loadingText) {\r\n            if (!loadingElement.querySelector('h4')) {\r\n                const h4 = document.createElement('h4');\r\n                h4.textContent = this.options.loadingText;\r\n                loadingElement.appendChild(h4);\r\n            }\r\n            loadingElement.style.display = 'block';\r\n        }\r\n    }\r\n    toggleLoading(show) {\r\n        const displayMap = {\r\n            loading: show ? 'flex' : 'none',\r\n            box: show ? 'none' : 'flex',\r\n            pagination: show ? 'none' : 'flex',\r\n            sidebar: show ? 'none' : 'block',\r\n            sorting: show ? 'none' : 'block'\r\n        };\r\n        const elements = {\r\n            loading: document.querySelector('.talent-pool-loading-text'),\r\n            box: document.querySelector('.talent-pool-filter-box'),\r\n            pagination: document.querySelector('.pagination_contain'),\r\n            sidebar: document.querySelector('.talent-pool-filter-sidebar'),\r\n            sorting: document.querySelector('.talent-pool-sorting-container'),\r\n            main: document.getElementById('TalentPool')\r\n        };\r\n        elements.loading && (elements.loading.style.display = displayMap.loading);\r\n        elements.box && (elements.box.style.display = displayMap.box);\r\n        elements.pagination && (elements.pagination.style.display = displayMap.pagination);\r\n        elements.sidebar && (elements.sidebar.style.display = displayMap.sidebar);\r\n        elements.sorting && (elements.sorting.style.display = displayMap.sorting);\r\n        if (elements.main) {\r\n            elements.main.classList.toggle('add_id', show);\r\n        }\r\n    }\r\n    counterLoading(loading = true) {\r\n        const counterContainer = this.container.querySelector('.talent-pool-counter');\r\n        //console.log(\"test\",counterContainer);\r\n        if (!counterContainer) return;\r\n\r\n        const spinner = counterContainer.querySelector('.counter-loading');\r\n\r\n        if (loading) {\r\n            if (spinner) spinner.style.display = 'block';\r\n        } else {\r\n            if (spinner) spinner.style.display = 'none';\r\n        }\r\n    }\r\n    counerShowLoading() {\r\n        this.counterLoading(true);\r\n    }\r\n    counerHideLoading() {\r\n        this.counterLoading(false);\r\n    }\r\n    showLoading() {\r\n        this.toggleLoading(true);\r\n    }\r\n    hideLoading() {\r\n        this.toggleLoading(false);\r\n    }\r\n    popupClose() {\r\n        const popup = document.querySelector(\".talent-pool-popup-container\");\r\n        if (popup) {\r\n            popup.remove();\r\n            document.body.classList.remove(\"open-popup\");\r\n            document.dispatchEvent(new CustomEvent(\"model-close\"));\r\n        }\r\n    }\r\n    createCloseButton(onClose = () => {}) {\r\n        const button = document.createElement(\"button\");\r\n        button.classList.add(\"talent-pool-close-button\");\r\n        button.innerHTML = `<svg height=\"512px\" id=\"Layer_1\" style=\"enable-background:new 0 0 512 512;\" version=\"1.1\" viewBox=\"0 0 512 512\" width=\"512px\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"><path d=\"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z\"></path></svg>`;\r\n        button.addEventListener(\"click\", () => {\r\n            this.popupClose();\r\n            onClose();\r\n        });\r\n        return button;\r\n    }\r\n}\r\nwindow.TalentPool = TalentPool;\r\n"],
  "mappings": "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",
  "names": ["Counter", "option", "sidebar", "container", "storedValue", "_a", "_b", "normalize", "keys", "filters", "prepared", "filteredData", "baseCounts", "filteredCounts", "finalCounts", "__spreadValues", "total", "flatCounts", "groupKey", "dataSource", "_c", "_d", "groupCounts", "key", "activeValues", "localGroupCount", "talent", "raw", "regionValues", "i", "regionKey", "regionValue", "val", "splitPattern", "talentValues", "fullValue", "category", "isSimpleCategory", "customGroups", "groupConfig", "subGroupKey", "subGroupConfig", "normalizedCategory", "checkbox", "value", "normalizedValue", "count", "label", "group", "checkboxes", "hasVisible", "match", "labelWrapper", "countLabel", "allGroupContainers", "hasActiveFilters", "arr", "box", "countMatch", "filterCounts", "parentCheckbox", "parentLabel", "dropdown", "child", "counterSpan", "mainGroupCheckbox", "mainGroupLabel", "totalGroupCount", "subGroupTotal", "subGroupCheckbox", "subGroupCounterSpan", "valueCheckbox", "valueLabel", "valueCounterSpan", "data", "dataSort", "option", "sidebar", "container", "originalApplySearch", "searchTerm", "onComplete", "result", "selectSort", "data", "a", "b", "aSalary", "bSalary", "talentPoolFilterRightContent", "sortingContainer", "opt", "sortingSelect", "Filter", "options", "storedValue", "paginationWrapper", "tag", "className", "parent", "el", "talentPool", "filters", "prepared", "regionFields", "combinedRegionKey", "key", "value", "flatValues", "processNested", "obj", "data", "salaryRange", "item", "_a", "salary", "currentData", "seen", "matched", "arr", "itemValue", "talent", "_b", "raw", "regionValues", "regionKey", "regionValue", "v", "val", "splitPattern", "talentValues", "fullValue", "isMatch", "isSimpleCategory", "customGroups", "groupKey", "groupConfig", "subGroupKey", "subGroupConfig", "uid", "div", "t_current_position", "t_maincategory", "t_experience_level", "t_city", "t_desired_salary", "t_candidate_id", "talentUrl", "noResult", "start", "end", "totalPages", "currentPage", "pagination", "createBtn", "text", "disabled", "onClick", "btn", "maxVisiblePages", "half", "i", "label", "handler", "chunkEnd", "chunkStart", "searchTerm", "onComplete", "normalizedSearch", "keys", "debounce", "func", "delay", "timeout", "args", "searchInput", "handleSearch", "e", "checkbox", "addDataButton", "RangeSlider", "options", "event", "callback", "data", "range", "startPercent", "endPercent", "formattedMinValue", "formattedMaxValue", "RangeSliderTitle", "container", "sliderContainer", "progress", "rangeLabel", "formattedMin", "formattedMax", "tooltipWrapper", "tooltipMin", "formattedDefaultMin", "tooltipMax", "formattedDefaultMax", "minInput", "e", "maxInput", "RangeSliderWrapper", "type", "step", "newValue", "_a", "_b", "format", "val", "isResettingGroups", "popupButton", "Sidebar", "body", "isSubgroupValue", "value", "_a", "_b", "groupMap", "group", "subgroup", "uncheckOtherGroups", "currentGroup", "PopupValueStored", "container", "allGroups", "currentGroupKey", "key", "groupKey", "mainCheckbox", "cb", "event5", "popupContainer", "popupInnerWrapper", "clonedSidebar", "closeButton", "talentPoolContain", "label", "oldTitle", "input", "searchInput", "ensurePopupValue", "checkBoxGroup", "popupCustomGroups", "nestedGroup", "mainLabel", "button", "newCheckboxWrapper", "groupConfig", "subGroupKey", "subGroupConfig", "subGroupDiv", "subGroupInput", "subGroupLabel", "isChecked", "subGroupCheckboxes", "subCheckbox", "subGroupDisplayName", "rangeSlider", "RangeSlider", "__spreadProps", "__spreadValues", "element", "initialData", "data", "event1", "transformedNestedGroups", "_c", "originalNestedGroup", "originalDropdownContainer", "subgroupsWithSelection", "selector", "simpleCheckbox", "subGroupValues", "val", "_d", "_e", "popupSubCheckbox", "allSub", "checkedSub", "subGroupCheckbox", "_f", "index", "parentCheckbox", "childCheckboxes", "nestedKey", "nestedGroupKey", "subKey", "checked", "child", "anyChecked", "checkbox", "valuesChecked", "indeterminateCheckbox", "isInNestedGroup", "isSubgroupInput", "isCategoryLevelInput", "isMainCategoryCheckbox", "parentGroup", "currentIndex", "otherGroup", "otherParent", "otherChildren", "otherGroupKey", "groupCheckboxChecked", "event", "idx", "event2", "e", "formContainer", "TalentPoolSidebar", "options", "event", "handler", "data", "maindiv", "titleDiv", "resetHtml", "cobalt_search", "popupTitle", "talentPool", "prevStoredValue", "_a", "_b", "_c", "key", "value", "groupKey", "groupValue", "subGroupKey", "selectedValues", "subGroupCheckbox", "val", "input", "nestedGroup", "allCount", "selectedCount", "groupCheckbox", "option", "rangeSlider", "RangeSlider", "__spreadProps", "__spreadValues", "element", "initialData", "popupButton", "minValue", "maxValue", "exclude", "uniqueValues", "keys", "item", "k", "a", "b", "previousState", "group", "index", "i", "regionKey", "regionIndex", "title", "titleElement", "e", "isCustom", "values", "type", "placeholder", "replace", "checkboxContainer", "dropdownButton", "checkboxInput", "checkboxLabel", "checkboxGroupWrapper", "div", "label", "total", "selected", "mainCheckbox", "select", "defaultOption", "optionElement", "container", "nestedGroupContainer", "mainCheckboxInput", "mainCheckboxLabel", "dropdownContainer", "allSubGroups", "subItem", "nestedSubContainer", "checkboxDiv", "groupConfig", "subGroupConfig", "actualValues", "emptyWrapper", "parentCheckbox", "allSubGroupsFromConfig", "storedSubGroups", "fullySelectedSubGroups", "partiallySelectedSubGroups", "unselectedSubGroups", "totalSubGroups", "subGroupValues", "expectedCount", "allFullySelected", "allUnselected", "hasAnyPartialOrMixed", "customGroups", "parentLabel", "parentCounterSpan", "totalSelectedCount", "hasAnyCheckedSubGroups", "subGroupLabel", "subGroupCounterSpan", "match", "count", "checkbox", "TalentPool", "options", "TalentPoolSidebar", "Filter", "Counter", "dataSort", "RangeSlider", "categoriesList", "item", "availableCategories", "group", "fullGroup", "key", "groupObj", "__spreadValues", "str", "value", "end", "numberValue", "loadingElement", "h4", "show", "displayMap", "elements", "loading", "counterContainer", "spinner", "popup", "onClose", "button"]
}
